#LyX 2.0 created this file. For more info see http://www.lyx.org/
\lyxformat 413
\begin_document
\begin_header
\textclass scrbook
\begin_preamble
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyfoot[C]{\thepage}
\fancyhead[LE,RO]{Bischeck - dynamic and adaptive monitoring}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
%\lhead{bischeck}
%\rhead{Text you want on the right top}
%\chead{Text you want over the center}
%\lfoot{left footer}
%\rfoot{right footer}
%\cfoot{\thepage}

% \lhead{\nouppercase{\rightmark} (\nouppercase{\leftmark})}
% \lhead{\nouppercase{\leftmark}}  
% \chead{}
%   \rhead{}
%   \lfoot{2011}
%   \cfoot{bischeck}
%   \rfoot{\thepage}
%   \renewcommand{\headrulewidth}{0.4pt}
%   \renewcommand{\footrulewidth}{0.4pt}

%  \renewcommand{\chaptermark}[1]{%
 % \markboth{#1}{}}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans helvet
\font_typewriter courier
\font_default_family sfdefault
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_amsmath 1
\use_esint 1
\use_mhchem 1
\use_mathdots 1
\cite_engine basic
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\use_refstyle 0
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle fancy
\tracking_changes true
\output_changes true
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\author -2048955058 "andersh,,," 
\author 717047130 "Peter Monthan" 
\end_header

\begin_body

\begin_layout Title
Bischeck 
\begin_inset Newline newline
\end_inset

-
\begin_inset Newline newline
\end_inset

Configuration guide
\end_layout

\begin_layout Date
DRAFT - IN WORK - Version 1.0.0 
\begin_inset Newline newline
\end_inset

201
\change_deleted 717047130 1393315866
3
\change_inserted 717047130 1393315866
4
\change_unchanged
-0
\change_deleted 717047130 1393315875
3
\change_inserted 717047130 1393315875
2
\change_unchanged
-2
\change_deleted 717047130 1393315879
7
\change_inserted 717047130 1393315879
5
\change_unchanged

\end_layout

\begin_layout Standard
Legal Notice Copyright 
\end_layout

\begin_layout Standard
© 2013-2014 Ingenjörsbyn AB.
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
This document is licensed by Ingenjörsbyn AB under the Creative Commons
 Attribution-ShareAlike 3.0 Unported License,
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://creativecommons.org/licenses/by-sa/3.0/
\end_layout

\end_inset

.
 If you distribute this document, or a modified version of it, you 
\change_deleted 717047130 1393315920
must
\change_inserted 717047130 1393315922
have to
\change_unchanged
 provide attribution to Ingenjörsbyn AB and provide a link to the original.
 
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\noindent
Linux® is the registered trademark of Linus Torvalds in the United States
 and other countries.
 
\end_layout

\begin_layout Standard
\noindent
Java® is a registered trademark of Oracle and/or its affiliates.
 
\end_layout

\begin_layout Standard
\noindent
Nagios® is an official trademark of Nagios Enterprise Inc.
 
\end_layout

\begin_layout Standard
\noindent
All other trademarks are the property of their respective owners.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard

\series bold
Abstract 
\end_layout

\begin_layout Standard
This guide provides information 
\change_inserted 717047130 1393316023
about 
\change_unchanged
how to configure Bischeck.
 For tasks related to installation and administration
\change_inserted 717047130 1393316031
,
\change_unchanged
 see the 
\begin_inset Quotes eld
\end_inset

Bischeck - installation and administration guide
\begin_inset Quotes erd
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:Introduction"

\end_inset

Introduction
\end_layout

\begin_layout Standard
Monitoring and surveillance is today 
\change_deleted 717047130 1393316113
common
\change_inserted 717047130 1393316114
standard
\change_unchanged
 in any IT operation.
 The market is mature and a number of excellent solutions exist, especially
 in the open source market.
 The major limitation is that the current solution
\change_inserted 717047130 1393316137
s
\change_unchanged
 predominately only work with single entities of data, 
\emph on

\begin_inset Quotes eld
\end_inset

check response time of web service xyz
\begin_inset Quotes erd
\end_inset


\emph default
, and static thresholds, 
\emph on

\begin_inset Quotes eld
\end_inset

response time lower then 100 ms for xyz is okay
\begin_inset Quotes erd
\end_inset


\emph default
.
 
\end_layout

\begin_layout Standard
This limitation becomes very obvious when trying to monitor something that
 is a little bit more complicated like monitoring business processes and
 applications, but 
\change_inserted 717047130 1393316162
is 
\change_unchanged
also applicable for normal IT infrastructure monitoring.
 This type of monitoring require
\change_inserted 717047130 1393316170
s
\change_unchanged
 that we can set the data we collect into a context, both with historical
 data and with data from different sources.
 Let
\change_inserted 717047130 1393316184
 u
\change_unchanged
s say we 
\change_inserted 717047130 1393316192
would 
\change_unchanged
like to monitor the ratio between cpu utilization of the server and the
 number 
\change_inserted 717047130 1393316203
of 
\change_unchanged
order transaction
\change_inserted 717047130 1393316207
s
\change_unchanged
 processed by our webshop.
 
\change_deleted 717047130 1393316436
So expect for the obvious
\change_inserted 717047130 1393316508
We expect that
\change_unchanged
 we need a monitoring system that in addition to just absolute values 
\change_inserted 717047130 1393316392
is able to 
\change_unchanged
manage:
\end_layout

\begin_layout Itemize
Percentage change 
\end_layout

\begin_layout Itemize
Rate of change 
\end_layout

\begin_layout Itemize
Ratios
\end_layout

\begin_layout Itemize
Deviations from a calculated baseline 
\end_layout

\begin_layout Itemize
Trends over time 
\end_layout

\begin_layout Itemize
Forecasting
\end_layout

\begin_layout Standard
The second aspect of monitoring is to determine if the monitored data is
 
\change_inserted 717047130 1393316868
with
\change_unchanged
in the boundaries of what is expected.
 The capability to set and define thresholds is key to get the 
\begin_inset Quotes eld
\end_inset


\change_deleted 717047130 1393316886
righ
\change_inserted 717047130 1393316888
correc
\change_unchanged
t
\begin_inset Quotes erd
\end_inset

 alarms.
 The static way to define threshold
\change_inserted 717047130 1393316896
s
\change_unchanged
 is not enough.
 Trying to find one value that is the correct in all situations and at all
 times is impossible.
 The risk is that we will just get to many or to few alarm notifications.
\end_layout

\begin_layout Standard
To enable advanced monitoring Bischeck supports the following features:
\end_layout

\begin_layout Itemize
Support for dynamic and adaptive thresholds.
\end_layout

\begin_layout Itemize
Support 
\change_inserted 717047130 1393316921
for 
\change_unchanged
dynamic configuration of thresholds depending of time of the day and day
 of week or month.
\end_layout

\begin_layout Itemize
Support 
\change_inserted 717047130 1393316934
for 
\change_unchanged
thresholds based on fixed values as well as thresholds based on measured
 data from other services.
 This is typical for process driven businesses
\change_deleted 717047130 1393316976
 flows
\change_unchanged
.
 
\end_layout

\begin_layout Itemize
Support for mathematical functions to calculate thresholds based on historical
 data.
\end_layout

\begin_layout Itemize
Predictive based mathematical operation
\change_inserted 717047130 1393316987
s
\change_unchanged
 like Linear Least Square to calculate trend based thresholds.
\end_layout

\begin_layout Itemize
Historical data cache for all measured services that can be retrieved based
 on index and time.
 Historical data is the main source to calculate dynamic and adaptive thresholds.
 The cache is persistent between starts and stop of Bischeck.
 Since version 1.0.0 the cache is implemented using Redis, 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.redis.io
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Itemize
Support for multiple scheduling schema
\change_deleted 717047130 1393317037
'
\change_unchanged
s per services.
 This enables a fine grain
\change_inserted 717047130 1393317046
ed
\change_unchanged
 control of when a service should be run.
 Bischeck supports interval scheduling, cron scheduling and service relation
 based scheduling.
\end_layout

\begin_layout Itemize
Support for 
\begin_inset Quotes eld
\end_inset

virtual
\begin_inset Quotes erd
\end_inset

 services that is based on calculation from data from multiple sources.
 This enables monitoring for ratios, trends, forecasting, etc.
 
\end_layout

\begin_layout Itemize
Support 
\change_inserted 717047130 1393317083
for 
\change_unchanged
a multitude of ways to connect to source systems by allowing custom developed
 service connection methods.
\end_layout

\begin_layout Itemize
Support for custom threshold classes to enable any way to define threshold
 logic.
 
\end_layout

\begin_layout Itemize
Integration with multiple monitoring and surveillance tools, like any Nagios
 based systems that supports the Nagios Service Check Acceptor (NSCA), the
 Nagios Remote Data Processor (NRDP) protocol and Livestatus,
\begin_inset Foot
status open

\begin_layout Plain Layout
Nagios Core, Nagios XI, Icinga, OP5 Monitor, Shinken, Opsview, Centreon,
 NetEye, Naemon,etc.
\end_layout

\end_inset

, 
\change_deleted 717047130 1393317125
but also
\change_inserted 717047130 1393317127
as well as
\change_unchanged
 systems 
\change_deleted 717047130 1393317131
like
\change_inserted 717047130 1393317132
such as
\change_unchanged
 OpenTSDB and Graphite.
\change_deleted 717047130 1393317136
.
\change_unchanged

\end_layout

\begin_layout Standard
Let us look at 3 examples that can be solved 
\change_deleted 717047130 1393317146
by 
\change_unchanged
using Bischeck: 
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\series bold
Example 1 – Monitor the number of orders received during the day 
\end_layout

\begin_layout Standard
The order management application receives orders 24 hours a day during Monday
 to Friday.
 The total aggregated number of orders varies as a function of the time
 of the day.
 The business expects to have a total number of orders of 1500 at 13:00,
 at 14:00 the order count should be 2300, at 15:00 it should be 3400, etc.
 Between every hour the business requirement is to interpolate the order
 rate according to a linear function between the defined hour rates.
 This means that the threshold at 13:20 is (2300-1500)*20/60+1500 = 1767.
 The warning alarm level should be between 90% and 70% of the threshold
 and 
\change_inserted 717047130 1393508737
the 
\change_unchanged
critical alarm 
\change_inserted 717047130 1393508749
level is reached 
\change_unchanged
if the measured value is below 70% of the threshold.
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\series bold
Example 2 – Monitor the number of created invoices in relation to the number
 of received orders
\end_layout

\begin_layout Standard
The invoicing system should invoice at least 80% of the daily incoming orders
 in the same day, with a maximum of one hour delay.
 This means that the measured value of orders with one hour delay must be
 used as a threshold for the number of created invoices.
\change_deleted 717047130 1393508761

\begin_inset Newline newline
\end_inset


\change_unchanged

\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\series bold
Example 3 – Monitor if we will run out of disk space in the next 40 days
\series default
 
\end_layout

\begin_layout Standard
A typical threshold for disk utilization is defined like 90% of 
\change_inserted 717047130 1393508822
the 
\change_unchanged
total space.
 This is of course important but it could be equally important to understand
 the growth speed of the disk utilization, 
\change_deleted 717047130 1393508894
like
\change_inserted 717047130 1393508895
such as
\change_unchanged
 if the size has grown with 5% 
\change_inserted 717047130 1393508906
or more 
\change_deleted 717047130 1393508908
from
\change_inserted 717047130 1393508908
since
\change_unchanged
 yesterday
\change_inserted 717047130 1393508910
.

\change_unchanged
 To enable early 
\change_inserted 717047130 1393509020
better 
\change_unchanged
information
\change_inserted 717047130 1393509026
 on when
\change_unchanged
 to purchase additional disk storage
\change_inserted 717047130 1393509029
,
\change_unchanged
 we need to get an alarm 
\change_deleted 717047130 1393509046
of
\change_inserted 717047130 1393509046
if
\change_unchanged
 the predictive trend of growth will pass our 90 % utilization level in
 the next 40 days.
 
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
Hopefully
\change_inserted 717047130 1393509052
,
\change_unchanged
 these examples have convinced you that Bischeck can do complex monitoring
 by advanced threshold management 
\change_deleted 717047130 1393509088
and
\change_inserted 717047130 1393509090
including
\change_unchanged
 process
\change_deleted 717047130 1393509093
es
\change_unchanged
 dependencies
\change_inserted 717047130 1393509099
,
\change_unchanged
 independent 
\change_inserted 717047130 1393509186
of 
\change_unchanged
if you monitor business, application or system metrics.
 
\change_inserted 717047130 1393509418
The image below describes how Bischeck monitoring 
\change_deleted 717047130 1393509423
And this 
\change_unchanged
can be 
\change_deleted 717047130 1393509426
done
\change_inserted 717047130 1393509432
achieved
\change_unchanged
 
\change_deleted 717047130 1393509437
by
\change_inserted 717047130 1393509440
when
\change_deleted 717047130 1393509439
 
\change_unchanged
integrat
\change_deleted 717047130 1393509444
e it
\change_inserted 717047130 1393509444
ing
\change_unchanged
 
\change_inserted 717047130 1393509461
it 
\change_unchanged
with your existing IT surveillance infrastructure.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename overview.svg
	width 16cm

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
Architecture overview
\end_layout

\end_inset


\end_layout

\end_inset

The Bischeck architecture include
\change_inserted 717047130 1393509467
s
\change_unchanged
 the following main components:
\end_layout

\begin_layout Itemize
Configuration - Manage all configuration of Bischeck
\end_layout

\begin_layout Itemize
Scheduling - Controls the execution time of each service
\end_layout

\begin_layout Itemize
Connection - Manage connection
\change_deleted 717047130 1393509496
 management against
\change_inserted 717047130 1393509498
s to
\change_unchanged
 the source systems to monitor
\end_layout

\begin_layout Itemize
Threshold - Manage the threshold configuration and processing
\end_layout

\begin_layout Itemize
Cache - Storage of historical data 
\change_deleted 717047130 1393509518
that has been 
\change_unchanged
collected from the source systems
\end_layout

\begin_layout Itemize
Server integration - Manage integration and formatting to the different
 monitoring systems
\end_layout

\begin_layout Standard
Bisconf is an optional web tool that provide
\change_inserted 717047130 1393509551
s
\change_unchanged
 editing management of the Bischeck configuration files.
 In addition
\change_inserted 717047130 1393509561
,
\change_unchanged
 it
\change_deleted 717047130 1393509593
 also
\change_unchanged
 provide
\change_inserted 717047130 1393509565
s
\change_unchanged
 life cycle management to deploy new configuration
\change_inserted 717047130 1393509607
s
\change_unchanged
 and start and stop the Bischeck process
\change_inserted 717047130 1393509611
es
\change_unchanged
.
 
\end_layout

\begin_layout Standard
Bischeck and Bisconf 
\change_deleted 717047130 1393509617
is
\change_inserted 717047130 1393509619
are
\change_unchanged
 open source and licensed under GPL version 2.
 Bischeck and Bisconf 
\change_deleted 717047130 1393509628
is
\change_inserted 717047130 1393509629
are
\change_unchanged
 written in Java
\change_deleted 717047130 1393509652
 and 
\change_inserted 717047130 1393509652
,
\change_unchanged
run
\change_deleted 717047130 1393509641
s
\change_unchanged
 as stand-alone daemons and integrate
\change_deleted 717047130 1393509657
s
\change_unchanged
 with different monitoring and surveillance tools over open protocols.
 If you have ideas to new features, find bugs, etc
\change_inserted 717047130 1393509675
,
\change_unchanged
 please visit 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

http://www.bischeck.org
\end_layout

\end_inset

 where you can 
\change_deleted 717047130 1393509683
fill in
\change_inserted 717047130 1393509684
create
\change_unchanged
 bug reports and feature requests.
 You can also email bischeck@ingby.com.
 We look forward to your feedback.
\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:Service-configuration"

\end_inset

Configuration concept 
\end_layout

\begin_layout Standard
The design of Bisch
\change_deleted 717047130 1393509706
a
\change_inserted 717047130 1393509706
e
\change_unchanged
ck is based on 3 main configuration entities:
\end_layout

\begin_layout Itemize
Service definitions - the configuration of what is to be monitored.
 The service definition is defined as host, service and service items
\end_layout

\begin_layout Itemize
Thresholds - the threshold configuration for a specific service definition
\end_layout

\begin_layout Itemize
Servers - the configuration of the servers where the monitored data should
 be sent
\end_layout

\begin_layout Standard
As an example we have host 
\emph on
erpserver
\emph default
.
 The 
\emph on
erpserver
\emph default
 server has two services that need
\change_deleted 717047130 1393509747
s
\change_unchanged
 to be monitored, 
\emph on
orders
\emph default
 and 
\emph on
invoices
\emph default
.
\change_deleted 717047130 1393509751
.

\change_unchanged
 For the 
\emph on
order
\emph default
 service
\change_inserted 717047130 1393509757
,
\change_unchanged
 we have 2 different kind of order types that need
\change_deleted 717047130 1393509763
s
\change_unchanged
 to be monitored, 
\emph on
ediOrders
\emph default
 and 
\emph on
mailOrders
\emph default
.
 If there are any problem
\change_inserted 717047130 1393509770
s
\change_unchanged
 with either 
\emph on
ediOrders
\emph default
 or 
\emph on
mailOrders
\emph default
 we need an alarm 
\change_inserted 717047130 1393510318
from
\change_deleted 717047130 1393510317
of
\change_unchanged
 the service 
\emph on
orders
\emph default
.
 The service define
\change_inserted 717047130 1393510327
s
\change_unchanged
 the connection url to instantiate the right service class to manage
\change_deleted 717047130 1393510339
 the
\change_unchanged
 the connection.
 For example
\change_inserted 717047130 1393510346
,
\change_unchanged
 if the url has a schema 
\change_inserted -2048955058 1394216152
name
\change_deleted -2048955058 1394216151
part
\change_unchanged
 
\change_inserted 717047130 1393510411
- VAD ÄR EN SCHEMA PART? - 
\change_unchanged
that is jdbc, the JDBCService class is used
\change_inserted -2048955058 1394216192

\begin_inset Foot
status open

\begin_layout Plain Layout

\change_inserted -2048955058 1394221156
The mapping between schema name and service class is done in the configuration
 file urlservices.xml, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:urlservice.xml"

\end_inset


\emph default
\bar default
.
 For more information about uri structure please visit http://en.wikipedia.org/wik
i/URI_scheme.
\change_unchanged

\end_layout

\end_inset


\change_unchanged
.
 
\change_inserted 717047130 1393510984
The service in our example will have 
\change_deleted 717047130 1393510987
The
\change_inserted 717047130 1393510988
two
\change_unchanged
 serviceitems
\change_inserted 717047130 1393511023
, one 
\change_deleted -2048955058 1394214571
item
\change_inserted 717047130 1393511023
 per order type, 
\change_deleted 717047130 1393510993
 
\change_unchanged
defin
\change_deleted 717047130 1393511009
e
\change_inserted 717047130 1393511009
ing
\change_unchanged
 the statement
\change_inserted 717047130 1393510452
s
\change_unchanged
 to be executed to retrieve the monitoring data.
 If the 
\change_deleted 717047130 1393510458
the 
\change_unchanged
connection for the service is jdbc
\change_inserted 717047130 1393510465
,
\change_unchanged
 the serviceitems can execute SQL statements to collect data.
 The serviceitem
\change_inserted 717047130 1393510474
s
\change_unchanged
 also define the threshold class to be used to calculate the severity of
 the collected data.
 The severity levels in Bischeck 
\change_deleted 717047130 1393510922
is
\change_inserted 717047130 1393510923
are
\change_unchanged
 OKAY, WARNING, CRITICAL and UNKNOWN
\begin_inset Foot
status open

\begin_layout Plain Layout
The severity is the same as in the Nagios specification
\end_layout

\end_inset

.
 The execution statement configured for the serviceitem 
\change_deleted 717047130 1393510499
must
\change_inserted 717047130 1393510500
can
\change_unchanged
 only return a single
\change_inserted 717047130 1393510509
,
\change_unchanged
 numeric value.
 
\end_layout

\begin_layout Standard
To summarize
\change_inserted 717047130 1393510525
,
\change_unchanged
 a host can 
\change_deleted 717047130 1393510528
av
\change_inserted 717047130 1393510529
have
\change_unchanged
 multiple services, 
\change_deleted 717047130 1393510537
and 
\change_unchanged
each service can have multiple serviceitems and the state of the service
 is always the state of the serviceitem that resolved to the highest severity
 level.
 
\end_layout

\begin_layout Standard
Each service definition must be unique in a Bischeck configuration.
 The data collected per service definition is stored in Bischeck's cache
 and can be queried by its name when used in threshold
\change_deleted 717047130 1393510572
s
\change_unchanged
 calculations and
\change_deleted 717047130 1393510601
 for
\change_unchanged
 virtual services.

\change_deleted 717047130 1393510581
 .

\change_unchanged
 
\end_layout

\begin_layout Standard

\change_deleted 717047130 1393510655
After
\change_inserted 717047130 1393510657
When
\change_unchanged
 threshold evaluation is done for 
\change_deleted 717047130 1393510662
the
\change_inserted 717047130 1393510662
a
\change_unchanged
 service definition
\change_inserted 717047130 1393510665
,
\change_unchanged
 the monitoring data, including state, performance data and threshold, is
 sent to all the configured servers.
\end_layout

\begin_layout Standard
All configuration 
\change_deleted 717047130 1393510688
are
\change_inserted 717047130 1393510688
is
\change_unchanged
 described 
\change_inserted 717047130 1393510690
in
\change_deleted 717047130 1393510692
different
\change_unchanged
 xml files located in the 
\emph on
etc
\emph default
 directory of the installation,
\emph on
 refere
\change_deleted 717047130 1393510700
e
\change_unchanged
d to as $BISHOME
\emph default
 in this document.
 
\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:Services-and-service"

\end_inset

Service definition - hosts, services and serviceitems
\end_layout

\begin_layout Standard
As described in the previous chapter the service definition is defined as
 a host, service(s) and serviceitems.
 The host configuration act
\change_inserted 717047130 1393510723
s
\change_unchanged
 only as a name space container and do
\change_inserted 717047130 1393510729
es
\change_unchanged
 not provide anything 
\change_inserted 717047130 1393510735
but 
\change_unchanged
the
\change_deleted 717047130 1393510737
n
\change_unchanged
 name and alias.
 A host can have one or multiple services and 
\change_deleted 717047130 1393510758
a
\change_inserted 717047130 1393510759
each
\change_unchanged
 service can have one or multiple serviceitems.
\change_deleted 717047130 1393510764
.

\change_unchanged
 The key attributes of the service are the service name, the schedules 
\change_inserted 717047130 1393510783
describing 
\change_unchanged
when to execute the service and the url connection that define
\change_inserted 717047130 1393510792
s
\change_unchanged
 the protocol to connect to the data to monitor.
\end_layout

\begin_layout Standard
The serviceitem key attributes are the execute statement
\change_inserted 717047130 1393510849
s,
\change_unchanged
 
\change_deleted 717047130 1393510828
that 
\change_unchanged
defin
\change_deleted 717047130 1393510830
e
\change_inserted 717047130 1393510830
ing
\change_unchanged
 what should be executed to retrieve the data that is subject to 
\change_deleted 717047130 1393510809
the 
\change_unchanged
monitoring
\change_inserted 717047130 1393510856
,
\change_unchanged
 and the threshold class used to calculate and validate the state of the
 measured data.
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:Service-classes"

\end_inset

Services 
\end_layout

\begin_layout Standard
The following service
\change_deleted 717047130 1393511055
s
\change_unchanged
 classes are provided in the standard Bischeck distribution.
\end_layout

\begin_layout Subsection
JDBC
\end_layout

\begin_layout Standard

\change_inserted 717047130 1393512173
The 
\change_unchanged
JDBCService manage
\change_inserted 717047130 1393512176
s
\change_unchanged
 connections to databases over JDBC.
 JDBC driver jars must be stored in the directory 
\emph on
$BISHOME/customlib
\emph default
 to 
\change_inserted 717047130 1393512196
be loaded 
\change_unchanged
automatically
\change_deleted 717047130 1393512200
 be loaded
\change_unchanged
 at start-up.
 No JDBC drivers are provided with the Bischeck distribution.
 
\end_layout

\begin_layout Standard
A JDBC connection is described with a normal jdbc url and with an additional
 driver class name in the Bischeck configuration file.
\end_layout

\begin_layout Subsection
Livestatus
\end_layout

\begin_layout Standard

\change_inserted 717047130 1393512237
The 
\change_unchanged
LivestatusService enable
\change_inserted 717047130 1393512243
s
\change_unchanged
 connectivity to any Nagios server supporting MK Livestatus
\begin_inset Foot
status open

\begin_layout Plain Layout
More information on MK Livestatus can be found on 
\begin_inset CommandInset href
LatexCommand href
name "http://mathias-kettner.de/checkmk_livestatus.html"
target "http://mathias-kettner.de/checkmk_livestatus.html"

\end_inset


\end_layout

\end_inset

.

\change_deleted 717047130 1393512272
 .
 .

\change_unchanged
 A livestatus connection is specified with a url with the following format:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

livestatus://hostname:port
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The requirement for this type of connection is that livestatus is configured
 as a xinetd service on the server running livestatus and Nagios.
 To configure livestatus with xinetd please see 
\begin_inset Quotes eld
\end_inset


\begin_inset CommandInset href
LatexCommand href
name "Remote access to Livestatus via SSH or xinetd"
target "http://mathias-kettner.de/checkmk_livestatus.html#H1:Remote access to Livestatus via SSH or xinetd"

\end_inset


\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Subsection
Bischeck cache
\end_layout

\begin_layout Standard

\change_inserted 717047130 1393512302
The 
\change_unchanged
LastCacheService enables connection
\change_inserted 717047130 1393512307
s
\change_unchanged
 to Bischeck's historical data cache where the measured data is stored.
 With th
\change_deleted 717047130 1393512322
e
\change_inserted 717047130 1393512322
is
\change_unchanged
 service
\change_inserted 717047130 1393512325
,
\change_unchanged
 any existing service definition (host-service-serviceitem) can be retrieved
 from the cache.
 This is typical
\change_inserted 717047130 1393512338
ly
\change_unchanged
 used to create virtual services based on mathematical expression to combine
 cache data entities.
 The connection url for the Bischeck cache is:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

bischeck://cache
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Shell
\end_layout

\begin_layout Standard

\change_inserted 717047130 1393512352
The 
\change_unchanged
ShellService enables execution of programs and scripts on the localhost.
 The connection url for the shell service is:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

shell://localhost
\end_layout

\end_inset


\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:Service-item-classes"

\end_inset

Serviceitems
\end_layout

\begin_layout Standard
The following service
\change_deleted 717047130 1393512381
 
\change_unchanged
items classes are provided in the standard Bischeck distribution.
\end_layout

\begin_layout Subsection
SQL
\end_layout

\begin_layout Standard
The 
\emph on
SQLServiceItem
\emph default
 enables execution of a SQL statements.
 It
\change_inserted 717047130 1393512397
 i
\change_unchanged
s important that the SQL statement only return one single numeric value,
 like a "
\emph on
select count(*) ....
\emph default
" or 
\begin_inset Quotes eld
\end_inset


\emph on
select sum(orderValue) from ....
\emph default

\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
The SQLServiceItem can be used with the service url matching 
\emph on
jdbc://
\emph default
.
\end_layout

\begin_layout Subsection
Livestatus 
\end_layout

\begin_layout Standard
With the 
\emph on
LivestatusServiceItem
\change_inserted 717047130 1393512446
,
\change_unchanged

\emph default
 both state and performance data can be queried for a Nagios service.
 The query is formatted as a json structure.
 To query a specific Nagios service state
\change_inserted 717047130 1393512460
,
\change_unchanged
 the following statement example can be used:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

{"host":"linux-server1","service":"DNS","query":"state"}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The above will query the current Nagios state of service 
\emph on
DNS
\emph default
 for host 
\emph on
linux-server1
\emph default
.
 
\end_layout

\begin_layout Standard
To query the 
\change_deleted 717047130 1393512481
the 
\change_unchanged
performance data for the Nagios service 
\emph on
HTTP
\change_inserted 717047130 1393512485
,
\change_unchanged

\emph default
 just change the query key value to perfdata and add the label key so the
 right label in a multi value performance data is retrieved:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

{"host":"linux-server1","service":"HTTP","query":"perfdata","label":"size"}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The 
\emph on
LivestatusServiceItem
\emph default
 can be used with the service url
\emph on
 livestatus://hostname:port
\emph default
.
\end_layout

\begin_layout Subsection
Cache calculations
\end_layout

\begin_layout Standard

\change_inserted 717047130 1393512519
The 
\change_unchanged

\emph on
CalculateOnCache
\emph default
 serviceitem class enable
\change_inserted 717047130 1393512590
s
\change_unchanged
 statement execution using data from the historical cache and mathematical
 functions, 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Mathematical-expressions-on"

\end_inset


\emph default
\bar default
.
 With this capability
\change_inserted 717047130 1393512614
,
\change_unchanged
 powerful expression
\change_inserted 717047130 1393512616
s
\change_unchanged
 can be created on the cached data like: 
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,tabsize=4"
inline false
status open

\begin_layout Plain Layout

avg(erpserver-orders-ediOrders[0:9])
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The above example will calculate the average of the last 10 collected data
 entries in the cache for the service definition "erpserver-orders-ediOrders".
\end_layout

\begin_layout Standard
Ratios can be created using data from different service definitions like:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,tabsize=4"
inline false
status open

\begin_layout Plain Layout

avg(erpserver-orders-ediOrders[0:9])/avg(erpserver-orders-webOrders[0:9])
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The 
\emph on
CalculateOnCache
\emph default
 can be used with the service url 
\emph on
bischeck://cache.
\end_layout

\begin_layout Subsection
Check commands
\end_layout

\begin_layout Standard
With the 
\emph on
CheckCommandServiceItem
\emph default
 class
\change_inserted 717047130 1393512664
,
\change_unchanged
 performance data can be retrieved by executing a Nagios check command
\change_inserted 717047130 1393512688
.
\change_unchanged

\begin_inset Foot
status open

\begin_layout Plain Layout
Nagios check commands are also called Nagios plugins.
 A check command must follow the Nagios Plugin development guideline, 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://nagios-plugins.org/doc/guidelines.html
\end_layout

\end_inset


\end_layout

\end_inset


\change_deleted 717047130 1393512693
.
 
\change_unchanged
The check command that is executed must output performance data according
 
\change_inserted 717047130 1393512703
to 
\change_unchanged
the Nagios specifications for the 
\emph on
CheckCommandServiceItem
\emph default
 to work.
 The exec
\change_inserted 717047130 1393512717
 
\change_unchanged
statement query is formatted as a json structure.
 To execute a check command and retrieve 
\change_deleted 717047130 1393512727
a 
\change_unchanged
specific performance data
\change_inserted 717047130 1393512733
,
\change_unchanged
 the following statement example can be used:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

{"check":"/usr/lib/nagios/plugins/check_tcp -H moon -p 22","label":"time"}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The above will execute the 
\emph on
check_tcp
\emph default
 program and retrieve the performance data with label 
\emph on
time
\emph default
.
 
\end_layout

\begin_layout Standard
The benefit of using a check command from Bischeck would be if there is
 a need to manage the performance data with dynamic thresholds that is not
 possible in Nagios.
\end_layout

\begin_layout Standard

\change_deleted 717047130 1393512774
It's important to understand
\change_inserted 717047130 1393512775
Note
\change_unchanged
 that there is no management of environment variables through Bischeck when
 executing a check command.
 
\end_layout

\begin_layout Standard
The 
\emph on
CheckCommandServiceItem
\emph default
 class can be used with the service url 
\emph on
shell://localhost
\emph default
.
\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:Service-item-cache"

\end_inset

Service definition cache
\end_layout

\begin_layout Standard
Bischeck keeps a cache of the measured data points for every service definition.
 The cached data can be used in the execute statements of serviceitems,
 like 
\emph on
CalculateOnCache,
\emph default
 to create virtual services and in threshold classes to create dynamic and
 adaptive thresholds, see section 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Twenty4HourThreshold-class"

\end_inset


\emph default
\bar default
.
 
\end_layout

\begin_layout Standard
The number of items per service definition
\change_deleted 717047130 1393843893
s
\change_unchanged
 that will be kept in the cache 
\change_deleted 717047130 1393843985
can be
\change_inserted 717047130 1393843985
is
\change_unchanged
 configured per service definition, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:bischeck.xml"

\end_inset


\emph default
\bar default
.
 If 
\change_deleted 717047130 1393843924
it's 
\change_unchanged
not specified
\change_inserted 717047130 1393843926
,
\change_unchanged
 the default size 
\change_deleted 717047130 1393843937
will be 
\change_unchanged
used 
\change_deleted 717047130 1393843942
that 
\change_unchanged
is set by the property 
\emph on
lastStatusCacheSize
\emph default
, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:properties.xml"

\end_inset


\emph default
\bar default
.
 
\end_layout

\begin_layout Section
Methods to retrieve cache data
\end_layout

\begin_layout Standard
There 
\change_deleted 717047130 1393844016
is
\change_inserted 717047130 1393844016
are
\change_unchanged
 a number of ways to retrieve data from the cache.
 The cache support
\change_inserted 717047130 1393844004
s
\change_unchanged
 both retrieval by index or by time
\change_deleted 717047130 1393844038
,
\change_unchanged
 and the retrieval can be done for a single element or to a list of elements.
 
\end_layout

\begin_layout Subsection
Retrieve single cache data element by index
\end_layout

\begin_layout Standard
To retrieve a single data element from the cache
\change_inserted 717047130 1393844049
,
\change_unchanged
 the following format is supported: 
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000

\emph on
host-service-item[X]
\emph default
 
\end_layout

\begin_layout Standard
Where 
\emph on
X
\emph default
 is the index in the cache for the service definition.
 Index 0 will always return the last stored data for the service definition,
 e.g.
 
\emph on
erpserver-orders-ediOrders[0]
\emph default
.
 
\end_layout

\begin_layout Subsection
Retrieve single cache data element by time
\end_layout

\begin_layout Standard
Data can also be retrieved from the cache by using a time offset.
 This will retrieve the data for the service definition closes
\change_inserted 717047130 1393844094
t
\change_unchanged
 to the specified time offset.
 The support
\change_inserted 717047130 1393844102
ed
\change_unchanged
 format is:
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000

\emph on
host-service-item[-XS]
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000

\emph on
host-service-item[-XM]
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000

\emph on
host-service-item[-XH]
\end_layout

\begin_layout Standard
X is the time and S (seconds),M (minutes) or H (hour) define the resolution
 of X.
 For example the expression 
\emph on
erpserver-orders-ediOrders[-30M]
\emph default
 will retrieve the data for the service definition closest to 30 minutes
 ago
\emph on
.
 
\change_deleted -2048955058 1394214715

\emph default
This is useful since the relation between a static index and the service
 schedule does not need to be known.
 KOLLA ATT DET BLEV RÄTT, jag har svårt att förstå det där med relationen!
\change_unchanged

\end_layout

\begin_layout Subsection
Retrieve a list of cache data elements by index
\end_layout

\begin_layout Standard
For mathematical functions that operate
\change_deleted 717047130 1393844248
s
\change_unchanged
 o
\change_deleted 717047130 1393844250
f
\change_inserted 717047130 1393844250
n
\change_unchanged
 a list of elements, like 
\change_deleted 717047130 1393844258
a 
\change_unchanged
sum, avg and max, Bischeck support
\change_inserted 717047130 1393844261
s
\change_unchanged
 two methods to retrieve 
\change_deleted 717047130 1393844301
the
\change_inserted 717047130 1393844301
a
\change_unchanged
 range 
\change_inserted 717047130 1393844310
of elements 
\change_unchanged
by index.
 The first method define
\change_inserted 717047130 1393844314
s
\change_unchanged
 a 
\begin_inset Quotes eld
\end_inset

from-to index
\begin_inset Quotes erd
\end_inset

, like 
\emph on
erpserver-orders-ediOrders[0:9] 
\emph default
that will retrieve all cache elements from index 0 to 9 as a list separated
 by comma (,)
\change_inserted 717047130 1393844367
.
\change_unchanged

\begin_inset Foot
status open

\begin_layout Plain Layout
The choice of comma (,) as separator character is due to 
\change_inserted 717047130 1393844345
the fact that 
\change_unchanged
this is the separator character used by JEP functions that take a list of
 values.
\end_layout

\end_inset


\change_deleted 717047130 1393844372
.

\change_unchanged
 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

sum(erphost-orders-ediorders[0:9])
\end_layout

\end_inset


\end_layout

\begin_layout Standard
This will calculate the sum of the last 10 cached elements for 
\emph on
erpserver-orders-ediOrders
\emph default
.
\end_layout

\begin_layout Standard
The second method
\change_deleted 717047130 1393844393
s
\change_unchanged
 is to define a list of index
\change_inserted 717047130 1393844442
es
\change_unchanged
 that do not need to be in sequence, like 
\emph on
erpserver-orders-ediOrders[1,3,5] 
\emph default
that will retrieve the elements for index 1, 3 and 5 as a list separated
 by 
\begin_inset Quotes eld
\end_inset

,
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

sum(erphost-orders-ediorders[1,3,5])
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Retrieve a list of cache data elements by time range
\end_layout

\begin_layout Standard
To retrieve 
\change_inserted 717047130 1393844476
a 
\change_unchanged
list of 
\change_deleted 717047130 1393844480
the 
\change_unchanged
data elements based on a time range
\change_inserted 717047130 1393844466
,
\change_unchanged
 the expression has the format 
\emph on
erpserver-orders-ediOrders[-30M:-120M].
 
\emph default
This will retrieve a list of all elements that exist in the cache between
 30 minutes to 120 minutes ago.
 The time operator supported is the same as for 
\change_deleted 717047130 1393844550
a 
\change_unchanged
single data
\change_inserted 717047130 1393844569
 elements
\change_unchanged
.
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:Mathematical-expressions-on"

\end_inset

Mathematical expressions on cache data
\end_layout

\begin_layout Standard
In places where cache data can be used, like thresholds and for some serviceitem
s, it
\change_inserted 717047130 1393844630
 
\change_deleted 717047130 1393844632
'
\change_inserted 717047130 1393844632
i
\change_unchanged
s possible to use mathematical expressions on the data.
 In Bischeck we use the mathematical package JEP to evaluate mathematical
 expressions and formulas.
 Let
\change_inserted 717047130 1393844651
 u
\change_unchanged
s look at some examples.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

erphost-orders-ediorders[0] / erphost-orders-ediorders[-30M]
\end_layout

\end_inset


\end_layout

\begin_layout Standard
This example will divide the last cached data, index 0, for 
\emph on
erphost-orders-ediorders
\emph default
 with the cached data of
\emph on
 erphost-orders-ediorders
\emph default
 30 minutes ago.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true"
inline false
status open

\begin_layout Plain Layout

max(erphost-orders-ediorders[-5M], erphost-orders-ediorders[-10M], erphost-order
s-ediorders[-15M])
\end_layout

\end_inset


\end_layout

\begin_layout Standard
In the above the highest value will be returned of the cached data for 
\emph on
erphost-orders-ediorders
\emph default
 cached 5, 10 and 15 minutes ago.
\end_layout

\begin_layout Standard
Conditional expression
\change_inserted 717047130 1393844727
s
\change_unchanged
 
\change_deleted 717047130 1393844729
is
\change_inserted 717047130 1393844729
are
\change_unchanged
 supported through the if statement
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,tabsize=4"
inline false
status open

\begin_layout Plain Layout

if((erpserver-orders-ediOrders[0] - erpserver-orders-ediOrders[1]) < 0,0,
 erpserver-orders-ediOrders[0] - erpserver-orders-ediOrders[1])
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The above example check
\change_inserted 717047130 1393844769
s
\change_unchanged
 if the result of "erpserver-orders-ediOrders[0]
\emph on
 - 
\emph default
erpserver-orders-ediOrders[1]" is less then 0.
 If true, return 0 and if false return the result of "erpserver-orders-ediOrders
[0]
\emph on
 - 
\emph default
erpserver-orders-ediOrders[1]".
 The value to use from the cache is defined by an index [X], where 0 is
 the latest value retrieved for the specific host-service-item.
\end_layout

\begin_layout Standard
For more information of all functions that can be used please visit 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

http://www.cse.msu.edu/SENS/Software/jep-2.23/doc/website/doc/doc_usage.htm
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Custom mathematical functions can be developed by following the JEP standard.
 Please see the 
\emph on

\begin_inset Quotes eld
\end_inset

Bischeck installation and administration guide
\begin_inset Quotes erd
\end_inset


\emph default
 
\change_inserted 717047130 1393844823
on 
\change_unchanged
how
\change_inserted 717047130 1393844824
 
\change_unchanged
to deploy custom JEP functions with Bischeck.
\end_layout

\begin_layout Subsection
JEP standard functions
\end_layout

\begin_layout Standard
The standard JEP functions supported are:
\end_layout

\begin_layout Itemize
round(x,y) - rounding the value of x to y number of decimals.
\end_layout

\begin_layout Itemize
ceil(x) - calculate the ceiling value of x.
\end_layout

\begin_layout Itemize
floor(x) - calculate the floor value of x.
\end_layout

\begin_layout Itemize
abs(x) - calculate the absolute value of x.
\end_layout

\begin_layout Itemize
mod(x,y) - calculate the modulus of x % y.
\end_layout

\begin_layout Itemize
sqrt(x) - calculate the square root of x.
\end_layout

\begin_layout Itemize
sum(x1,x2,x3,.....) - calculate the sum of the list of values.
\end_layout

\begin_layout Itemize
ln(x) - calculate the natural logarithm of x.
\end_layout

\begin_layout Itemize
log(x) - calculate the logarithm base 10 of x.
\end_layout

\begin_layout Itemize
exp(x) - calculate the exponential value of x.
\end_layout

\begin_layout Itemize
pow(x,y) - calculate the x as the power of y.
\end_layout

\begin_layout Itemize
rand() - random value between 0 and 1
\end_layout

\begin_layout Itemize
if(cond, trueval, falseval) - if the cond expression is true trueval is
 returned, if false falseval is returned.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "Label:JEP-extensions"

\end_inset

JEP extensions
\end_layout

\begin_layout Standard
With JEP it
\change_inserted 717047130 1393855896
 i
\change_deleted 717047130 1393855895
'
\change_unchanged
s easy to create additional functions.
 With Bischeck
\change_inserted 717047130 1393855885
,
\change_unchanged
 the following functions has been added as part of the distribution.
\end_layout

\begin_layout Itemize
avg(x1,x2,x3,...) - Calculate the average of the list of numbers.
\end_layout

\begin_layout Itemize
max(x1,x2,x3,...) - Calculate the max value of the list of numbers.
\end_layout

\begin_layout Itemize
min(x1,x2,x3,...) - Calculate the min value of the list of numbers.
\end_layout

\begin_layout Itemize
multNull((x1,x2,x3,...) - Multiply the numbers in the list
\change_deleted 717047130 1393856164
,
\change_inserted 717047130 1393856164
.

\change_unchanged
 
\change_deleted 717047130 1393856167
but i
\change_inserted 717047130 1393856167
I
\change_unchanged
f any of the numbers are null
\change_inserted 717047130 1393856174
,
\change_unchanged
 the function will return null.
\end_layout

\begin_layout Itemize
divNull(x1,x2) - Divide the numbers
\change_deleted 717047130 1393856190
,
\change_inserted 717047130 1393856190
.

\change_unchanged
 
\change_deleted 717047130 1393856207
but i
\change_inserted 717047130 1393856207
I
\change_unchanged
f any of the numbers are null the function will return null.
\end_layout

\begin_layout Subsection
Prediction functions
\end_layout

\begin_layout Standard
Prediction functions take historical data and calculate a prediction using
 the ordinary least square method, see 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://en.wikipedia.org/wiki/Ordinary_least_squares
\end_layout

\end_inset

.
 The OLS functions can predict a value in future, 
\emph on
ols
\emph default
, and the slope of the curve, 
\emph on
olss
\emph default
.
 The functions take the following parameters:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true"
inline false
status open

\begin_layout Plain Layout

ols(host, service, serviceitem, resolutionMethod, resolution, forecast,
 timeOffSet)
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

olss(host, service, serviceitem, resolutionMethod, resolution, timeOffSet)
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The parameters have the following meaning:
\end_layout

\begin_layout Itemize
host - the host name to get from the cache 
\end_layout

\begin_layout Itemize
service - the service name to get from the cache
\end_layout

\begin_layout Itemize
serviceItem - the serviceitem name to get from the cache
\end_layout

\begin_layout Itemize
resolution - the time resolution that the calculation is based on .
 Support
\change_inserted 717047130 1393856360
ed
\change_unchanged
 values are H (hour), D (day) and W (week)
\end_layout

\begin_layout Itemize
forecast - depending on the resolution this is the number of unit
\change_inserted 717047130 1393856402
i
\change_unchanged
es of the resolution to calculate the prediction for.
 If resolution is D and forecast is 10 the calculated value will be the
 predicted value 10 days from now.
 
\end_layout

\begin_layout Itemize
timeOffSet - define
\change_inserted 717047130 1393856468
s
\change_unchanged
 the number of historical data that will be used in the prediction calculation.
 The unit is define
\change_inserted 717047130 1393856477
d
\change_unchanged
 by the resolution parameter.
 
\change_deleted 717047130 1393856502
So
\change_inserted 717047130 1393856509
E.g.,
\change_unchanged
 if the timeOffSet 
\change_inserted 717047130 1393856491
is set 
\change_unchanged
to 14 and resolution is D the predicition will be based on 14 days of historical
 data.
\end_layout

\begin_layout Itemize
resolutionMethod - the calculation method to use if there are multiple cached
 data in the 
\change_deleted 717047130 1393856540
in the 
\change_unchanged
resolution period.
 Supported methods are AVG, MAX and MIN.
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
Add Example
\end_layout

\end_inset


\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:Null-value-in"

\end_inset

Null value in the cache
\end_layout

\begin_layout Standard
Null values represent
\change_inserted 717047130 1393856568
s
\change_unchanged
 
\change_deleted 717047130 1393856572
the 
\change_inserted 717047130 1393856575
non-
\change_unchanged
existent 
\change_deleted 717047130 1393856579
of no 
\change_unchanged
data.
 A null value in the cache can exists due to different reasons.
 
\end_layout

\begin_layout Enumerate
The connection specified in the service fails.
 By default
\change_inserted 717047130 1393856595
,
\change_unchanged
 a null value will not be stored when this happens but if the property 
\emph on
saveNullOnConnectionError
\emph default
 is set to true
\change_inserted 717047130 1393856610
,
\change_unchanged
 a null value will be inserted in the cache.
\end_layout

\begin_layout Enumerate
If the execstatement specified for the serviceitem return
\change_inserted 717047130 1393856621
s
\change_unchanged
 null, a null value is inserted in the cache.
\end_layout

\begin_layout Standard
When accessing the cache by index or by time 
\change_deleted 717047130 1393856681
like
\change_inserted 717047130 1393856684
such as
\change_unchanged
, erphost-orders-ediorders[10] or erphost-orders-ediorders[-5M]
\change_deleted 717047130 1393856642
 
\change_unchanged
, it will return null:
\end_layout

\begin_layout Itemize
If null is stored in the cache at the index.
\end_layout

\begin_layout Itemize
If null is stored in the cache at the index that the time specification
 resolves to.
\end_layout

\begin_layout Itemize
If the index is out of bound
\change_inserted 717047130 1393856698
s
\change_unchanged
 of the specified cache size.
\end_layout

\begin_layout Standard
When using cache data with 
\change_inserted 717047130 1393856714
a 
\change_unchanged
mathematical function that takes a list of arguments, the null value can
 be handled in different ways depending 
\change_inserted 717047130 1393856721
on 
\change_unchanged
how the cache data is retrieved and how the property 
\emph on
notFullListParse
\emph default
 is set.
 Let
\change_inserted 717047130 1393856738
 u
\change_unchanged
s show an example to explain the different scenarios.
 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true"
inline false
status open

\begin_layout Plain Layout

sum(erphost-orders-ediorders[0], erphost-orders-phoneorders[0]) * erphost-orders
-state[0]
\end_layout

\end_inset


\end_layout

\begin_layout Standard
In the above example the 
\emph on
sum
\emph default
 function will evaluate to null if 
\emph on
erphost-orders-ediorders[0]
\emph default
 
\series bold
and/or
\series default
\bar under
 
\emph on
\bar default
erphost-orders-phoneorders[0]
\emph default
 return null.
 If the 
\change_deleted 717047130 1393856777
the 
\change_unchanged
property 
\emph on
notFullListParse
\emph default
 is set
\change_inserted 717047130 1393856792
,
\change_unchanged
 the 
\emph on
sum
\emph default
 function will only return null if both 
\emph on
erphost-orders-ediorders[0]
\emph default
 
\series bold
and
\series default
 
\emph on
erphost-orders-phoneorders[0]
\emph default
 return null.
 The whole statement will return null independent
\change_inserted 717047130 1393856815
ly
\change_unchanged
 of the 
\emph on
notFullListParse
\emph default
 property if 
\emph on
erphost-orders-state[0]
\emph default
 returns null.
 
\end_layout

\begin_layout Standard
By the example we can see that the property 
\emph on
notFullListParse 
\emph default
has effect on how null is managed for functions that manage a list of data
 like 
\emph on
sum, avg, max, min
\emph default
, etc.
 What the 
\emph on
notFullListParse
\emph default
 property do is that it will filter out all null values when they occur
 in a function that take
\change_inserted 717047130 1393856897
s
\change_unchanged
 a list of data.
 This works in the same way if ranges are used as the example below.
 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true"
inline false
status open

\begin_layout Plain Layout

sum(erphost-orders-ediorders[0:100],erphost-orders-phoneorders[-5M:-15M])
 * erphost-orders-state[0]
\end_layout

\end_inset


\end_layout

\begin_layout Standard
If the 
\emph on
notFullListParse
\emph default
 is set to true
\change_inserted 717047130 1393856920
,
\change_unchanged
 all the cache data in 
\emph on
erphost-orders-ediorders[0:100]
\emph default
 
\series bold
and
\series default
 
\emph on
erphost-orders-phoneorders[-5M:-15M]
\emph default
 will be filtered out.
 For functions like avg the caclulated average will only be based on the
 none null values.
\end_layout

\begin_layout Standard
The 
\change_deleted 717047130 1393856949

\emph on
null
\change_inserted 717047130 1393856949
not
\change_unchanged
FullListParse
\emph default
 property 
\change_deleted 717047130 1394008295
also 
\change_unchanged
have another implication if using mathematical expressions inside a function
 that take a list of values.
 
\change_inserted 717047130 1394008299
Example:
\change_unchanged

\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true"
inline false
status open

\begin_layout Plain Layout

avg(erphost-orders-ediorders[0] * 2, erphost-orders-phoneorders[0] * 3)
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The above example will result in null for the whole 
\emph on
avg
\emph default
 function if any of 
\emph on
erphost-orders-ediorders[0]
\emph default
 
\series bold
or
\series default
 
\emph on
erphost-orders-phoneorders[0]
\emph default
 is null since the multipl
\change_deleted 717047130 1394008332
y
\change_inserted 717047130 1394008334
ication
\change_unchanged
 with a constant will fail if any of the cache data 
\change_inserted 717047130 1394008348
items 
\change_deleted 717047130 1394008351
are
\change_inserted 717047130 1394008351
is
\change_unchanged
 null.
 To manage this
\change_inserted 717047130 1394008357
,
\change_unchanged
 the 
\emph on
multNull
\begin_inset Foot
status open

\begin_layout Plain Layout

\emph on
See 
\begin_inset CommandInset ref
LatexCommand ref
reference "Label:JEP-extensions"

\end_inset

 for more information about functions that manage null.
\end_layout

\end_inset

 
\emph default
function must be used instead of the * operator.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true"
inline false
status open

\begin_layout Plain Layout

avg(multNull(erphost-orders-ediorders[0],2), multNull(erphost-orders-phoneorders
[0],3))
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using multNull will result in that the 
\emph on
avg
\emph default
 function will return null only if both 
\emph on
erphost-orders-ediorders[0]
\emph default
 
\series bold
and
\bar under
 
\series default
\emph on
\bar default
erphost-orders-phoneorders[0]
\emph default
 are null.
\change_inserted -2048955058 1394214911

\end_layout

\begin_layout Standard

\change_inserted -2048955058 1394214958
All properties described above are global for service definitions.
\change_inserted 717047130 1394134047

\end_layout

\begin_layout Standard

\change_deleted -2048955058 1394214964
Är properties globala eller kan de anges per service?
\change_unchanged

\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:Aggregations"

\end_inset

Aggregations
\end_layout

\begin_layout Standard
Aggregations of cached data can be automated by Bischeck, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Cache-template"

\end_inset


\emph default
\bar default
.
 The aggregation is done on
\change_inserted 717047130 1394008903
 intervals
\change_unchanged
 hour, day, week and month.
 Aggregation
\change_deleted 717047130 1394008908
s
\change_unchanged
 methods 
\change_deleted 717047130 1394008911
that are 
\change_unchanged
available are
\end_layout

\begin_layout Itemize
avg - calculate the average value 
\change_deleted 717047130 1394008920
in
\change_inserted 717047130 1394008920
of
\change_unchanged
 the period
\end_layout

\begin_layout Itemize
min - calculate the min value 
\change_deleted 717047130 1394008923
in
\change_inserted 717047130 1394008923
of
\change_unchanged
 the period
\end_layout

\begin_layout Itemize
max - calculate the max value 
\change_deleted 717047130 1394008925
in
\change_inserted 717047130 1394008925
of
\change_unchanged
 the period
\end_layout

\begin_layout Standard
It 
\change_inserted 717047130 1394008931
is 
\change_unchanged
also possible to configure the aggregation to include or exclude weekends,
 Saturdays and Sundays.
 
\end_layout

\begin_layout Standard
The aggregated data is 
\change_deleted 717047130 1394008950
also 
\change_unchanged
stored in the cache as any other collected data and can be retrieved from
 the same cache in the same way as the collected data.
 The difference is the name convention used for aggregated data.
 For the service definition 
\emph on
erphost-orders-ediorders
\emph default
 the aggregated data will have the 
\change_inserted 717047130 1394008986
following 
\change_unchanged
format for hourly based aggregation where average calculation is used and
 weekend days are included:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true"
inline false
status open

\begin_layout Plain Layout

erphost-orders/H/avg/weekend-ediorders
\end_layout

\end_inset


\end_layout

\begin_layout Standard
If weekends are not included the format will be:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true"
inline false
status open

\begin_layout Plain Layout

erphost-orders/H/avg-ediorders
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The period is define
\change_inserted 717047130 1394009050
d
\change_unchanged
 as H (hour), D (day), W (week) and M (month).
 
\change_deleted 717047130 1394009030
The d
\change_inserted 717047130 1394009030
D
\change_unchanged
ata 
\change_deleted 717047130 1394009033
are
\change_inserted 717047130 1394009033
is
\change_unchanged
 stored in the same order as for collected data, the last calculated aggregation
 is at index 0.
 How many aggregated data items that will be kept in the cache is define
\change_inserted 717047130 1394009045
d
\change_unchanged
 per service definition, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Cache-template"

\end_inset


\emph default
\bar default
.
 
\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:Threshold-configuration"

\end_inset

Threshold configuration
\end_layout

\begin_layout Standard
A threshold 
\change_inserted 717047130 1394009104
value 
\change_unchanged
define
\change_inserted 717047130 1394009106
s
\change_unchanged
 if the measured value for a service definition is 
\change_inserted 717047130 1394009111
with
\change_unchanged
in the boundary of 
\change_deleted 717047130 1394009117
what is
\change_inserted 717047130 1394009117
the
\change_unchanged
 expected.
 To define the state of the measured service definition value, a threshold
 class is specified for each serviceitem.
 The threshold class evaluate
\change_inserted 717047130 1394009159
s
\change_unchanged
 the measured value with some logic and return
\change_inserted 717047130 1394009163
s
\change_unchanged
 the state as OKAY, WARNING, CRITICAL or UNKNOWN.
 The threshold instance for the specific serviceitem is stored in a threshold
 cache and valid for a period of a day.
 Every new day the threshold cache is invalidated and Bischeck looks for
 new valid threshold classes to instantiate for each serviceitem.
 The reason that the period is set to 
\change_deleted 717047130 1394009238
a
\change_inserted 717047130 1394009238
one
\change_unchanged
 day is that there may be a need to configure the threshold instance differently
 depending on the day of the week or month.
 
\end_layout

\begin_layout Standard
A valid threshold class must implement the interface Threshold.
 This structure enables a flexible implementation of very different ways
 to calculate or specify a threshold.
 In the simplest form
\change_inserted 717047130 1394009319
,
\change_unchanged
 a threshold class could just return a
\change_inserted 717047130 1394009325
n
\change_unchanged
 OKAY independent
\change_inserted 717047130 1394009328
ly
\change_unchanged
 of measured value
\change_inserted 717047130 1394009330
s
\change_unchanged
 and in the more complex solution be based on algorithms, database content,
 content in the Bischeck cache, day of month or some complex combination.
 
\end_layout

\begin_layout Standard
Warning and critical level specification
\change_inserted 717047130 1394009341
s
\change_unchanged
 are also part of the threshold class.
 The threshold class 
\change_deleted 717047130 1394009347
are
\change_inserted 717047130 1394009347
is
\change_unchanged
 responsible 
\change_deleted 717047130 1394009351
to
\change_inserted 717047130 1394009353
for
\change_unchanged
 
\change_inserted 717047130 1394009358
the 
\change_unchanged
defin
\change_deleted 717047130 1394009360
e
\change_inserted 717047130 1394009361
ition
\change_unchanged
 
\change_deleted 717047130 1394009366
what
\change_inserted 717047130 1394009366
of
\change_unchanged
 
\change_inserted 717047130 1394009375
supported 
\change_unchanged
operations
\change_deleted 717047130 1394009384
 are supported
\change_unchanged
 for the measured value, 
\change_deleted 717047130 1394009395
like
\change_inserted 717047130 1394009397
e.g.

\change_unchanged
 
\change_inserted 717047130 1394009400
that 
\change_unchanged
measured value should be higher, lower or in an interval of the threshold.
 Warning and critical levels should be defined as 
\change_deleted 717047130 1394009411
the
\change_inserted 717047130 1394009411
a
\change_unchanged
 percentage of the threshold.
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:Twenty4HourThreshold-class"

\end_inset

Twenty four hour threshold 
\end_layout

\begin_layout Standard
The Twenty4Hour threshold class divides the day into 24 hours.
 For each hour of the day a threshold is defined.
 The two threshold values that are next to each other are used to calculate
 a slope of a linear equation between the two
\change_deleted 717047130 1394009437
 
\change_unchanged
.
 For example, if the threshold value is set to 1000 at 14:00 and to 1600
 at 15:00, the calculation for a threshold value between 14:00 and 15:00
 is y=x*(1600-1000)/60 + 1000.
 At 14:20 the threshold is 20*(1600-1000)/60+1000 = 1200.
 
\end_layout

\begin_layout Standard
The threshold model gives a linear equation with one hour granularity
\change_deleted 717047130 1394009594
,
\change_unchanged
 but over a 24 hour period it can resemble a 
\change_inserted 717047130 1394009614
non-linear 
\change_unchanged
curve.
 This behavior is typical in business systems where the key business values
 are distributed in a none
\change_deleted 717047130 1394009617
 
\change_inserted 717047130 1394009617
-
\change_unchanged
linear and none constant way over the period of a day, e.g.
 
\change_inserted 717047130 1394009636
the number of 
\change_unchanged
incoming orders.
 
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "label:Period-definition"

\end_inset

Period definition
\end_layout

\begin_layout Standard
Since the threshold for a serviceitem can be different depending on the
 month, day of month, week
\change_deleted 717047130 1394009803
,
\change_unchanged
 
\change_inserted 717047130 1394009794
and 
\change_unchanged
day of week
\change_inserted 717047130 1394009807
,
\change_unchanged
 the configuration supports thresholds to be described on a granularity
 called period.
 A period include
\change_inserted 717047130 1394009840
s
\change_unchanged
 multiple months and weeks definitions as long as they share the same threshold
 definition.
 For a month
\change_inserted 717047130 1394009850
,
\change_unchanged
 it is possible to specify a specific month and/or 
\change_deleted 717047130 1394009884
a 
\change_unchanged
day of a month and for a week a specific week and/or 
\change_deleted 717047130 1394009889
a 
\change_unchanged
day of a week.
 To find the right threshold period the 
\change_deleted 717047130 1394009895
the 
\change_unchanged
class looks for threshold period specification in the following order: 
\end_layout

\begin_layout Enumerate
Month and day of month 
\end_layout

\begin_layout Enumerate
Week and day of week 
\end_layout

\begin_layout Enumerate
Day 
\change_deleted 717047130 1394009907
in
\change_inserted 717047130 1394009907
of
\change_unchanged
 month 
\end_layout

\begin_layout Enumerate
Day 
\change_deleted 717047130 1394009912
in the
\change_inserted 717047130 1394009912
of
\change_unchanged
 week 
\end_layout

\begin_layout Enumerate
Month 
\end_layout

\begin_layout Enumerate
Week 
\end_layout

\begin_layout Enumerate
Default 
\end_layout

\begin_layout Standard
Month is specified between 1-12, week 1-53, day of month 1-31 and day of
 week 1-7 where 1 is Sunday and 7 is Saturday.
 The default threshold period is used if no other matching occurs.
\end_layout

\begin_layout Standard
Since holidays are often days where the business 
\change_deleted 717047130 1394009988
are
\change_inserted 717047130 1394009988
is
\change_unchanged
 not operational, there is a way to describe days that should no
\change_inserted 717047130 1394009994
t
\change_unchanged
 have any threshold checks.
 These excluded days are checked before any other rule 
\change_inserted 717047130 1394010009
described 
\change_unchanged
above 
\change_deleted 717047130 1394010013
are
\change_inserted 717047130 1394010013
is
\change_unchanged
 evaluated.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "label:Calculation-definition"

\end_inset

Calculation definition
\end_layout

\begin_layout Standard
The class support
\change_inserted 717047130 1394010042
s
\change_unchanged
 t
\change_inserted 717047130 1394010045
h
\change_unchanged
ree ways 
\change_inserted 717047130 1394010047
of 
\change_unchanged
how the threshold is compared to the measured value: 
\end_layout

\begin_layout Description
">" Measured value should be higher th
\change_deleted 717047130 1394010058
e
\change_inserted 717047130 1394010058
a
\change_unchanged
n the threshold.
 If the measured value is lower th
\change_deleted 717047130 1394010068
e
\change_inserted 717047130 1394010068
a
\change_unchanged
n threshold*warning(%)
\change_inserted 717047130 1394010072
,
\change_unchanged
 
\change_inserted 717047130 1394010077
the 
\change_unchanged
warning state is set and if 
\change_inserted 717047130 1394010131
the 
\change_unchanged
measured value is lower then threshold*critical(%)
\change_inserted 717047130 1394010083
,
\change_unchanged
 
\change_inserted 717047130 1394010086
the 
\change_unchanged
critical state is set.
 
\end_layout

\begin_layout Description
"<" Measured value should be lower th
\change_deleted 717047130 1394010093
e
\change_inserted 717047130 1394010093
a
\change_unchanged
n the threshold.
 If the measured value is higher th
\change_deleted 717047130 1394010103
e
\change_inserted 717047130 1394010103
a
\change_unchanged
n threshold*(1-warning(%))
\change_inserted 717047130 1394010110
,
\change_unchanged
 
\change_inserted 717047130 1394010112
the 
\change_unchanged
warning state is set and if 
\change_deleted 717047130 1394010124
if
\change_inserted 717047130 1394010124
the
\change_unchanged
 measured value is higher th
\change_deleted 717047130 1394010136
e
\change_inserted 717047130 1394010136
a
\change_unchanged
n threshold*(1-critical(%))
\change_inserted 717047130 1394010140
, the
\change_unchanged
 critical state is set.
\end_layout

\begin_layout Description
"=" Measured should be 
\change_inserted 717047130 1394010146
with
\change_unchanged
in the interval of the threshold.
 If the measured value is lower th
\change_deleted 717047130 1394010151
e
\change_inserted 717047130 1394010151
a
\change_unchanged
n threshold*warning(%) OR higher then threshold*(1-warning(%))
\change_inserted 717047130 1394010158
,
\change_unchanged
 
\change_deleted 717047130 1394010160
a
\change_inserted 717047130 1394010160
the
\change_unchanged
 warning state is set and if 
\change_inserted 717047130 1394010164
the 
\change_unchanged
measured value is lower th
\change_deleted 717047130 1394010168
e
\change_inserted 717047130 1394010168
a
\change_unchanged
n threshold*critical(%) OR higher th
\change_deleted 717047130 1394010172
e
\change_inserted 717047130 1394010172
a
\change_unchanged
n threshold*(1-critical(%))
\change_inserted 717047130 1394010175
,
\change_unchanged
 
\change_deleted 717047130 1394010176
a
\change_inserted 717047130 1394010176
the
\change_unchanged
 critical state is set.
\end_layout

\begin_layout Standard
For complete configuration description
\change_inserted 717047130 1394010193
,
\change_unchanged
 see section 
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:24thresholds.xml"

\end_inset


\bar default
.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "label:Hours-definition"

\end_inset

Hours and threshold definition
\end_layout

\begin_layout Standard
The measured value is compared 
\change_deleted 717047130 1394010218
against
\change_inserted 717047130 1394010218
to
\change_unchanged
 the threshold value that is calculated from 
\change_inserted 717047130 1394010227
a 
\change_unchanged
linear equation of the two closest threshold values.
 As described in the introduction of this chapter
\change_inserted 717047130 1394010233
,
\change_unchanged
 we can set the threshold values to fixed number
\change_inserted 717047130 1394010238
s
\change_unchanged
, but in a business system this is not enough.
 Let 
\change_inserted 717047130 1394010259
us 
\change_deleted 717047130 1394010267
take
\change_inserted 717047130 1394010268
look at
\change_unchanged
 an example.
 The number of orders that can be invoiced during a day is probably depending
 on the number of orders received.
 
\change_deleted 717047130 1394010285
So i
\change_inserted 717047130 1394010285
I
\change_unchanged
nstead of setting the threshold to a fixed number we can use an expression
 based threshold like 
\begin_inset Quotes eld
\end_inset

80 % of received orders
\begin_inset Quotes erd
\end_inset

.

\emph on
 
\emph default
The syntax of expression based thresholds is simple and powerful.
 Expressions are based on the JEP package, see chapter 
\emph on

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Mathematical-expressions-on"

\end_inset


\emph default
, where the parameters can be any 
\change_inserted 717047130 1394010307
of the 
\change_unchanged
measured values that exist in the Bischeck cache, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Service-item-cache"

\end_inset


\emph default
\bar default
.
 For example
\change_inserted 717047130 1394010313
,
\change_unchanged
 the expression 
\emph on
"erpserver-orders-ediorders[0]*0.8"
\emph default
 set
\change_inserted 717047130 1394010320
s 
\change_unchanged
the threshold to 80% of the last measured value of the service definition
 
\emph on
erpserver-orders-ediorders
\emph default
.
 We could also combine multiple cached values from different sources in
 the same expression 
\change_deleted 717047130 1394010338
like
\change_inserted 717047130 1394010338
such as
\change_deleted 717047130 1394010342
,
\change_unchanged
 
\emph on
"erpserver-orders-ediorders[0] / geoserver-route-finalroute[0]
\begin_inset Quotes erd
\end_inset

 
\emph default
to get some sort of ratio threshold
\emph on
.
\end_layout

\begin_layout Standard
If we just need to check parts of a day for thresholds, 
\change_deleted 717047130 1394010366
just 
\change_unchanged
set the hour to NULL and no calculation will be done for that time interval
\change_inserted -2048955058 1394215081
 that the hour is part of
\change_unchanged
.

\change_inserted 717047130 1394010398
 
\change_inserted -2048955058 1394215157
For configuration examples please see 
\begin_inset CommandInset ref
LatexCommand nameref
reference "label:24thresholds.xml"

\end_inset

.
\change_deleted -2048955058 1394215159
Förklara det sista lite.
 Vilken timme ska vi sätta till NULL och var gör vi det?
\change_unchanged

\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:Server-integration"

\end_inset

Server integration
\end_layout

\begin_layout Standard
Bischeck support
\change_inserted 717047130 1394133396
s
\change_unchanged
 integration with multiple monitoring infrastructures.
 Each integration is implemented as a server class.
 The server class 
\change_deleted 717047130 1394133409
The Server class are
\change_inserted 717047130 1394133409
is
\change_unchanged
 responsible for message formatting and communication with the integrated
 server.
 If the server system is not responding
\change_inserted 717047130 1394133423
,
\change_unchanged
 the message will be dropped on the Bischeck side.
 
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:Nagios-integration-with"

\end_inset

Nagios integration with NSCA, NRDP and Livestatus
\end_layout

\begin_layout Standard
The data format between Bischeck and Nagios follow
\change_inserted 717047130 1394133437
s
\change_unchanged
 the standard Nagios format for passive checks.
 This means that the Nagios host and service name must be the same as the
 configuration in Bischeck.
 Even for passive checks
\change_inserted 717047130 1394133456
,
\change_unchanged
 Nagios require
\change_inserted 717047130 1394133462
s
\change_unchanged
 that a check command is specified for the Nagios service like
\emph on
 check_dummy
\emph default
 or equivalent check command.
 Bischeck follow
\change_inserted 717047130 1394133484
s
\change_unchanged
 the Nagios specification for check command output 
\change_deleted 717047130 1394133489
that
\change_inserted 717047130 1394133489
which
\change_unchanged
 require
\change_inserted 717047130 1394133491
s
\change_unchanged
 that data is split in a status and a performance part 
\change_deleted -2048955058 1394215349
seperated
\change_inserted -2048955058 1394215349
separated
\change_unchanged
 with 
\change_inserted 717047130 1394133504
the 
\change_unchanged
pipe sign (|).
 
\end_layout

\begin_layout Standard
The Bischeck status output has the following format: 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true"
inline false
status open

\begin_layout Plain Layout

<level> <serviceitem name> = <measured value> (<threshold> <warning value>
 <warning_calc method> <critical value>) <critical calc method> , <serviceitem
 name> = ...
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Since a service can have multiple serviceitems, the output is presented
 as a concatenated string of the serviceitems.
 The <measured value> is the value that was retrieved from the execution
 of the specific service definition's serviceitem
\change_inserted 717047130 1394133559
's
\change_unchanged
 execute statement.
 The <threshold> is the current threshold value that the measured value
 has been evaluated against.
 The calculated warning and critical levels are based on the percentage
 value of the threshold.
\end_layout

\begin_layout Standard
Depending of the calculation method
\change_inserted 717047130 1394133720
,
\change_unchanged
 the string representation will differ.
 The following methods are support
\change_inserted 717047130 1394133726
ed
\change_unchanged
: 
\end_layout

\begin_layout Itemize
Measure
\change_inserted 717047130 1394133733
d
\change_unchanged
 value must be higher th
\change_deleted 717047130 1394133736
e
\change_inserted 717047130 1394133736
a
\change_unchanged
n the threshold: <warning level> = > W > <critical level> = > C >
\end_layout

\begin_layout Itemize
Measure
\change_inserted 717047130 1394133754
d
\change_unchanged
 value must be lower th
\change_deleted 717047130 1394133756
e
\change_inserted 717047130 1394133756
a
\change_unchanged
n the threshold: <warning level> = < W < <critical level> = < C <
\end_layout

\begin_layout Itemize
Measure
\change_inserted 717047130 1394133767
d
\change_unchanged
 value must be in the interval to the threshold: <warning level> = = +-W
 = <critical level> = = +-C =
\end_layout

\begin_layout Standard
Example of the output: 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

OK ediOrders = 12000 (11000 > W > 9900 > C > 7700)
\end_layout

\end_inset


\end_layout

\begin_layout Standard
In this case
\change_inserted 717047130 1394133875
,
\change_unchanged
 the threshold value is 11000 and 
\change_inserted 717047130 1394133882
the 
\change_unchanged
warning and critical levels ha
\change_deleted 717047130 1394133885
s
\change_inserted 717047130 1394133885
ve
\change_unchanged
 been set to 10% and 30 % of the current threshold.
 Since 
\change_inserted 717047130 1394133913
both 
\change_unchanged
the warning and critical level are 
\change_deleted 717047130 1394133916
a 
\change_unchanged
fixed percentage
\change_inserted 717047130 1394133918
s,
\change_unchanged
 the calculated level
\change_inserted 717047130 1394133937
s
\change_unchanged
 will change
\change_deleted 717047130 1394133932
d
\change_unchanged
 with 
\change_deleted 717047130 1394133943
the
\change_inserted 717047130 1394133944
any
\change_unchanged
 change of the threshold.
\end_layout

\begin_layout Standard
If there are no threshold values defined for the current period in which
 the measured value is collected, the threshold is reported as null and
 no calculation is done that can be used for notification.
 Null can also be reported as the measured value.
 This can occur if a none or a null value is retrieved for the serviceitem,
 for example from a faulty SQL statement.
 Service connection problems will by default be reported as critical.
 This can be changed by setting the property 
\emph on
saveNullOnConnectionError
\emph default
, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:properties.xml"

\end_inset


\emph default
\bar default
.
 The service state will be based on the serviceitem 
\change_deleted 717047130 1394134126
that has
\change_inserted 717047130 1394134126
with
\change_unchanged
 the highest level of severity if there are more th
\change_deleted 717047130 1394134130
e
\change_inserted 717047130 1394134130
a
\change_unchanged
n one serviceitem defined for the service.
 If one serviceitem reports critical and 
\change_deleted 717047130 1394134152
the 
\change_inserted 717047130 1394134152
an
\change_unchanged
other reports OK
\change_inserted 717047130 1394134147
,
\change_unchanged
 the service will report critical.
 
\end_layout

\begin_layout Standard
If no threshold is define
\change_inserted 717047130 1394134162
d,
\change_unchanged
 the status will be reported as:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

OK ediOrders = 12000 (NA)
\end_layout

\end_inset


\end_layout

\begin_layout Standard
For 
\change_deleted 717047130 1394134240
the 
\change_unchanged
performance data
\change_inserted 717047130 1394134242
,
\change_unchanged
 each serviceitem is included with the addition of the current threshold.

\change_inserted 717047130 1394134297
 Vad är performance data?
\change_inserted -2048955058 1394216008
 Detta är Nagios specifikt, se ovan meningen med pipe sign.
 
\change_unchanged

\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

ediOrders=12000;9900;7000;0; threshold=11000;0;0;0; avg-exec-time=223ms
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The execution time of the serviceitem execute statement is always part of
 the performance data and reported as 
\emph on
avg-exec-time
\emph default
 in milliseconds.
 With the pnp4nagios template that is provided 
\change_deleted 717047130 1394134264
by
\change_inserted 717047130 1394134266
with
\change_unchanged
 the Bischeck installation the average execution time is not graphed.
 
\change_inserted 717047130 1394134343
Det där bör nog förklaras.
 Vilken graph? Finns någon annan template som man kan få en graph med och
 varför vill man det?
\change_inserted -2048955058 1394215972
 Detta är egentligen inte någon Bischeck grej utan helt Nagios relaterat.
 Så som med performance data så skall någon som håller på med nagios förstå
 detta.
\change_unchanged

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
All server integrations are configured in the $BISHOME/etc/servers.xml file,
 see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:server.xml-1"

\end_inset


\emph default
\bar default
 for more information.
\end_layout

\begin_layout Subsection
NSCA configuration
\end_layout

\begin_layout Standard
The configuration parameters 
\change_deleted 717047130 1394134456
that needs to be 
\change_inserted 717047130 1394134866
to 
\change_unchanged
define in 
\change_deleted 717047130 1394134464
the 
\change_inserted 717047130 1394134470
file 
\change_unchanged
server.xml for NSCA are:
\end_layout

\begin_layout Itemize
class - NSCAServer
\end_layout

\begin_layout Itemize
hostAddress - the IP or name for the NSCA server, default is localhost.
\end_layout

\begin_layout Itemize
port - the socket port number on the NSCA server where NSCA is listening,
 default is 5667.
\end_layout

\begin_layout Itemize
connectionTimeout - the timeout time in milliseconds before Bischeck give
\change_inserted 717047130 1394134498
s
\change_unchanged
 up on 
\change_deleted 717047130 1394134502
the 
\change_unchanged
the connection, default is 5000.
\end_layout

\begin_layout Itemize
encryptionMode - the encryption mode used in the communication with the
 NSCA server.
 Supported encryption modes are NONE, XOR, and TRIPLE_DES, default is XOR.
\end_layout

\begin_layout Itemize
password - the NSCA server password, no default value.
\end_layout

\begin_layout Subsection
NRDP configuration
\end_layout

\begin_layout Standard
The configuration parameters that 
\change_deleted 717047130 1394134538
needs to be 
\change_inserted 717047130 1394134856
to 
\change_unchanged
define in 
\change_deleted 717047130 1394134544
the
\change_inserted 717047130 1394134544
file
\change_unchanged
 server.xml for NRDP are:
\end_layout

\begin_layout Itemize
class - NRDPServer
\end_layout

\begin_layout Itemize
hostAddress - the IP or name for the NRDP server, default is localhost.
\end_layout

\begin_layout Itemize
port - the socket port number on the NRDP server where NRDP is listening,
 default is 80.
\end_layout

\begin_layout Itemize
connectionTimeout - the timeout time in milliseconds before Bischeck give
\change_inserted 717047130 1394134563
s
\change_unchanged
 up on the 
\change_deleted 717047130 1394134567
the 
\change_unchanged
connection, default is 5000.
\end_layout

\begin_layout Itemize
path - the URL path for NRDP, default is nrdp.
\end_layout

\begin_layout Itemize
password - the NRDP server token, no 
\change_deleted 717047130 1394134591
by 
\change_unchanged
default
\change_inserted 717047130 1394134595
 value
\change_unchanged
.
\end_layout

\begin_layout Standard
The resulting URL will have the following format:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

http://<hostAddress>:<port>/<path>
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Livestatus configuration
\end_layout

\begin_layout Standard
The configuration parameters 
\change_deleted 717047130 1394134616
that needs to be 
\change_inserted 717047130 1394134852
to 
\change_unchanged
define in 
\change_deleted 717047130 1394134619
the
\change_inserted 717047130 1394134619
file
\change_unchanged
 server.xml for Livestatus are:
\end_layout

\begin_layout Itemize
class - LiveStatusServer
\end_layout

\begin_layout Itemize
hostAddress - the IP or name for the Livestatus server, default is localhost.
\end_layout

\begin_layout Itemize
port - the socket port number on the server where Livestatus is listening,
 default is 6557.
\end_layout

\begin_layout Itemize
connectionTimeout - the timeout time in milliseconds before Bischeck give
\change_inserted 717047130 1394134632
s
\change_unchanged
 up on the 
\change_deleted 717047130 1394134636
the 
\change_unchanged
connection, default is 5000.
\end_layout

\begin_layout Subsection
Nagios state on null
\end_layout

\begin_layout Standard
If the service connection fail
\change_inserted 717047130 1394134647
s
\change_unchanged
 or the serviceitem execstatement returns a null value
\change_inserted 717047130 1394134672
,
\change_unchanged
 it
\change_inserted 717047130 1394134653
 i
\change_unchanged
s not possible to calculate the threshold or to determine the state that
 should be propagated to Nagios.
 The state that should be communicate
\change_inserted 717047130 1394134686
d
\change_unchanged
 to Nagios in this type of situation is defined by property 
\emph on
stateOnNull
\emph default
, that can be set to CRITICAL (2), WARNING (1), OK (0) or UNKNOWN (3).
 Default is UNKNOWN.
 
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:OpenTSDB"

\end_inset

OpenTSDB
\end_layout

\begin_layout Standard
OpenTSDB is a
\change_deleted 717047130 1394134705
n
\change_unchanged
 monitoring system that provide
\change_inserted 717047130 1394134708
s
\change_unchanged
 storage and indexing for high volume
\change_inserted 717047130 1394134713
s
\change_unchanged
 of time series data.
 The OpenTSDB integration is implemented over 
\change_inserted 717047130 1394134722
the 
\change_unchanged
OpenTSDB text based protocol.
 
\change_deleted 717047130 1394134727
From
\change_deleted -2048955058 1394216707
As of 
\change_unchanged
Bischeck 
\change_inserted -2048955058 1394216733
send 4 
\change_deleted -2048955058 1394216702
4, 
\change_unchanged
lines 
\change_deleted -2048955058 1394216717
are sent 
\change_unchanged
to OpenTSDB for each service definition.
 The lines include measured, threshold, warning and critical values.
 No state information is sent.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=sh"
inline false
status open

\begin_layout Plain Layout

put bischeck.measured 1288946927 12000 host=erpserver service=orders serviceitem=
ediOrders
\end_layout

\begin_layout Plain Layout

put bischeck.threshold 1288946927 11000 host=erpserver service=orders serviceitem
=ediOrders
\end_layout

\begin_layout Plain Layout

put bischeck.warning 1288946927 9900 host=erpserver service=orders serviceitem=ed
iOrders
\end_layout

\begin_layout Plain Layout

put bischeck.critical 1288946927 7700 host=erpserver service=orders serviceitem=e
diOrders
\end_layout

\end_inset


\end_layout

\begin_layout Standard
For more information about 
\change_inserted 717047130 1394134775
the 
\change_unchanged
OpenTSDB text protocol
\change_inserted 717047130 1394134783
,
\change_unchanged
 please visit 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://opentsdb.net
\end_layout

\end_inset

 
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
The configuration parameters 
\change_deleted 717047130 1394134800
that need 
\change_unchanged
to 
\change_deleted 717047130 1394134832
be 
\change_unchanged
define in 
\change_deleted 717047130 1394134836
the
\change_inserted 717047130 1394134836
file
\change_unchanged
 server.xml for OpenTSDB are:
\end_layout

\begin_layout Itemize
class - OpenTSDBServer
\end_layout

\begin_layout Itemize
hostAddress - the IP or name for the OpenTSDB server, default is localhost.
\end_layout

\begin_layout Itemize
port - the socket port number on the OpenTSDB server where OpenTSDB is listening
, default is 4242.
\end_layout

\begin_layout Itemize
connectionTimeout - the timeout time in milliseconds before Bischeck give
\change_inserted 717047130 1394134898
s
\change_unchanged
 up on the 
\change_deleted 717047130 1394134900
the 
\change_unchanged
connection, default is 5000.
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:Graphite"

\end_inset

Graphite
\end_layout

\begin_layout Standard
Graphite is a
\change_deleted 717047130 1394134910
n
\change_unchanged
 monitoring system that provide
\change_inserted 717047130 1394134913
s
\change_unchanged
 excellent graphing and visualization.
 Access to the data in Graphite is through a graphical web console that
 provides an easy way to view many different data sources.
 The Graphite integration is provided over Graphites text based protocol
\change_deleted 717047130 1394134993
.
 The format has
\change_inserted 717047130 1394134996
 using
\change_unchanged
 the following simple format:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=sh"
inline false
status open

\begin_layout Plain Layout

metric_path value timestamp
\backslash
n
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The metric_path is 
\change_deleted 717047130 1394135024
the
\change_inserted 717047130 1394135024
a
\change_unchanged
 dot separated string like foo.bar.baz.
 Value is a number and timestamp is the time when the data was collected
 in the UNIX epoch time 
\change_inserted 717047130 1394135049
format 
\change_unchanged
in milliseconds.
 
\end_layout

\begin_layout Standard

\change_deleted 717047130 1394135054
From
\change_inserted 717047130 1394135055
As of
\change_unchanged
 Bischeck 4
\change_inserted 717047130 1394135057
,
\change_unchanged
 lines are sent to Graphite for each service definition.
 The lines include measured, threshold, warning and critical values.
 No state information is sent.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=sh"
inline false
status open

\begin_layout Plain Layout

erpserver.orders.ediOrders.measured 12000 1288946927
\backslash
n
\end_layout

\begin_layout Plain Layout

erpserver.orders.ediOrders.threshold 11000 1288946927
\backslash
n
\end_layout

\begin_layout Plain Layout

erpserver.orders.ediOrders.warning 9900 1288946927
\backslash
n
\end_layout

\begin_layout Plain Layout

erpserver.orders.ediOrders.critical 7700 1288946927
\backslash
n
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The Graphite server integration support
\change_inserted 717047130 1394135073
s
\change_unchanged
 a method to filter 
\change_deleted 717047130 1394135079
what 
\change_unchanged
data that will be sent to Graphite.
 The filter is defined by regular expression
\change_inserted 717047130 1394135090
s
\change_unchanged
 with the property 
\emph on
doNotSendRegex
\emph default
.
 If a 
\emph on
host-service-serviceitem
\emph default
 in 
\change_deleted 717047130 1394135116
anyway 
\change_unchanged
match
\change_inserted 717047130 1394135120
es
\change_unchanged
 the regular expression
\change_inserted 717047130 1394135125
,
\change_unchanged
 it will not be sent to Graphite.
 Multiple regular expressions can be defined 
\change_deleted 717047130 1394135135
by
\change_inserted 717047130 1394135136
using
\change_unchanged
 a list of regular expressions in the property 
\emph on
doNotSendRegex
\emph default
 by setting a delimiter between the regular expressions defined by the property
 
\emph on
doNotSendRegexDelim
\emph default
.
 For example the regular expression 
\emph on
^erpserver
\emph default
 will not send any host-service-serviceitem that begins with the string
 erpserver.
 
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
The configuration parameters 
\change_deleted 717047130 1394135185
that need 
\change_unchanged
to 
\change_deleted 717047130 1394135190
be 
\change_unchanged
define in 
\change_deleted 717047130 1394135194
the
\change_inserted 717047130 1394135195
file
\change_unchanged
 server.xml for 
\change_inserted 717047130 1394135197
G
\change_unchanged
raphite are:
\end_layout

\begin_layout Itemize
class - GraphiteServer
\end_layout

\begin_layout Itemize
hostAddress - the IP or name 
\change_deleted 717047130 1394135206
for
\change_inserted 717047130 1394135206
of
\change_unchanged
 the Graphite server, default is localhost.
\end_layout

\begin_layout Itemize
port - the socket port number on the Graphite server where Graphite is listening
, default is 2003.
\end_layout

\begin_layout Itemize
connectionTimeout - the timeout time in milliseconds before Bischeck give
\change_inserted 717047130 1394135215
s
\change_unchanged
 up on the 
\change_deleted 717047130 1394135218
the 
\change_unchanged
connection, default is 5000.
\end_layout

\begin_layout Itemize
doNotSendRegex - A list of regular expressions.
 Default is no regular expressions.
\end_layout

\begin_layout Itemize
doNotSendRegexDelim - The delimiter to separate regular expressions in the
 property doNotSendRegex, default is 
\begin_inset Quotes eld
\end_inset

%
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:bischeck-configuration-files"

\end_inset

Bischeck configuration files
\end_layout

\begin_layout Standard
The basic configuration files are xml based and located in the 
\emph on
$BISHOME/etc
\emph default
 directory.
 The distribution package include
\change_inserted 717047130 1394135237
s
\change_unchanged
 all xml schema files, xsd, used for validation of the configuration files.
 For detail
\change_inserted 717047130 1394135250
ed
\change_unchanged
 information
\change_inserted 717047130 1394135254
,
\change_unchanged
 please review the xsd files located in the directory
\emph on
 $BISHOME/resources
\emph default
.
 
\series bold
Remember that all xml configuration files should use HTML encoded characters.
\end_layout

\begin_layout Standard
There are two important aspects of the Bischeck configuration to enable
 flexibility and a compact configuration structure - macros and templates.
 Macros come
\change_deleted 717047130 1394135274
s
\change_unchanged
 in two shapes, configuration macros and runtime macros.
 Configuration macros are set at startup time and 
\change_deleted 717047130 1394135282
is
\change_inserted 717047130 1394135282
are
\change_unchanged
 fixed during runtime.
 Runtime macros 
\change_deleted 717047130 1394135291
is
\change_inserted 717047130 1394135291
are
\change_unchanged
 evaluated in runtime and dynamic to 
\change_deleted 717047130 1394135302
is
\change_inserted 717047130 1394135306
their
\change_unchanged
 nature.
 
\end_layout

\begin_layout Standard
Templates are used in configuration files to support re-usability of 
\change_inserted 717047130 1394135327
common 
\change_unchanged
configuration blocks
\change_deleted 717047130 1394135359
 that are common.

\change_unchanged
 
\change_deleted 717047130 1394135364
With macros this
\change_inserted 717047130 1394135367
which
\change_unchanged
 works very well to minimize the amount of configuration code.
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:Naming-standard"

\end_inset

Naming standard
\end_layout

\begin_layout Standard
The 
\change_deleted 717047130 1394135385
rules for 
\change_unchanged
naming 
\change_inserted 717047130 1394135388
of 
\change_unchanged
hosts, services and serviceitems must adhere to the following rules:
\change_inserted 717047130 1394135395
 
\change_unchanged
host name
\change_inserted 717047130 1394135397
s
\change_unchanged
 can include any character from a-z, A-Z and 0-9.
 The host name 
\change_deleted 717047130 1394135439
can
\change_inserted 717047130 1394135439
may
\change_unchanged
 also include the 
\change_deleted 717047130 1394135407
the 
\change_unchanged
characters, dash (-), dot (.) and underscore (_)
\change_inserted 717047130 1394135456
, 
\change_deleted 717047130 1394135457
.
\change_inserted 717047130 1394135459
although
\change_unchanged
 
\change_deleted 717047130 1394135461
I
\change_inserted 717047130 1394135461
i
\change_unchanged
t
\change_inserted 717047130 1394135416
 i
\change_unchanged
s not allowed to start the name with any of the these characters.
 Examples of valid names are erphost.xyz.com and erp1_host.my-domain.com.
\end_layout

\begin_layout Itemize
service and serviceitem can include any character from a-z, A-Z and 0-9.
 The name can also include 
\change_deleted 717047130 1394135477
the 
\change_unchanged
the characters, dash (-), dot (.), underscore (_), at sign (@) and space
 ( ).
 It
\change_inserted 717047130 1394135498
 i
\change_unchanged
s not allowed to start or end the name with dash (-) and space ( ).
 
\end_layout

\begin_layout Itemize
Dash (-) is the separator character between host, service and serviceitem
 name when used in expression
\change_inserted 717047130 1394135505
s
\change_unchanged
.
 
\series bold
When using a host-servi
\change_inserted 717047130 1394135543
c
\change_unchanged
e-serviceitem[X] expression in the execstatement tag of a serviceitem in
 the bischeck.xml configuration file
\change_inserted 717047130 1394135518
,
\change_unchanged
 or in the hour tag of the 24threshold.xml configuration file, a dash (-)
 in any of the names must be quoted with a backslash (
\backslash
), like:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

erp1_host.my
\backslash
-domain.com-@service1-item[1]
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Section
Configuration macros
\end_layout

\begin_layout Standard
Configuration macros have the format of 
\emph on
$$macroname$$
\emph default
.
 The following configuration macros are supported:
\end_layout

\begin_layout Itemize
$$HOSTNAME$$ - will be replaced with the value of tag <name> in the current
 scope from the host section
\end_layout

\begin_layout Itemize
$$HOSTALIAS$$ - will be replaced with the value of tag <alias> in the current
 scope from the host section 
\end_layout

\begin_layout Itemize
$$SERVICENAME$$ - will be replaced with the value of tag <name> in the current
 scope from the service section
\end_layout

\begin_layout Itemize
$$SERVICEALIAS$$ - will be replaced with the value of tag <alias> in the
 current scope from the service section
\end_layout

\begin_layout Itemize
$$SERVICEITEMNAME$$ - will be replaced with the value of tag <name> in the
 current scope from the serviceitem section
\end_layout

\begin_layout Itemize
$$SERVICEITEMALIAS$$ - will be replaced with the value of tag <alias> in
 the current scope from the serviceitem section
\end_layout

\begin_layout Standard

\series bold
All the *NAME macros are support
\change_inserted 717047130 1394135639
ed
\change_unchanged
 both in the bischeck.xml and 24thresholds.xml file.
 The *ALIAS macros are only supported in the bischeck.xml since there is
 no equivalent alias tag in 24threshol
\change_inserted 717047130 1394135652
d
\change_unchanged
s.xml.
\end_layout

\begin_layout Section
Runtime macros
\end_layout

\begin_layout Standard
Runtime macros 
\change_deleted 717047130 1394135664
is
\change_inserted 717047130 1394135664
are
\change_unchanged
 evaluate
\change_inserted 717047130 1394135666
d
\change_unchanged
 in runtime and have the format %%macro%%.
 Currently
\change_inserted 717047130 1394135669
,
\change_unchanged
 only data macro
\change_inserted 717047130 1394135681
s
\change_unchanged
 
\change_deleted 717047130 1394135683
is
\change_inserted 717047130 1394135684
are
\change_unchanged
 supported.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "label:Date-formatting-1"

\end_inset

Date formatting macro
\end_layout

\begin_layout Standard
Many serviceitems will typically execute something depending on a date.
 For this reason
\change_inserted 717047130 1394135716
,
\change_unchanged
 Bischeck supports date macros in the execute statement of 
\change_deleted 717047130 1394135727
a 
\change_unchanged
serviceitems.
 For example
\change_inserted 717047130 1394135730
,
\change_unchanged
 in the following SQL select statement that is using a date condition, the
 formatting could be done like this:
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

select count(orders) from order where 
\end_layout

\begin_layout Plain Layout

fromdate='%%yyyy-MM-dd%%' and 
\end_layout

\begin_layout Plain Layout

todate='%%yy.MM.dd%[D2]%%'
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Bischeck will replace anything between %% and %% with the current date according
 to the format string.
 The formatting follows the structure of the Java SimpleDateFormatter class.
 If the format string includes a %[] macro, the current date will be calculated,
 where Y means year, M means month and D means day.
 
\change_deleted 717047130 1394135893
So 
\change_unchanged
%[D-1] will subtract one day from the current date and %[M2] will add two
 months to the current date.
 A construction like D-1Y-1 is not supported.
 
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:bischeck.xml"

\end_inset

bischeck.xml 
\end_layout

\begin_layout Standard
The Bischeck configuration can be described as a hierarchy of hosts, services
 and serviceitems to monitor.
 Each host can have one or more services, and for each service one or more
 serviceitems can be configured.
 Below is an example of a simple configuration 
\change_deleted 717047130 1394135941
but 
\change_unchanged
without 
\change_deleted 717047130 1394135944
any 
\change_unchanged
templates.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

<bischeck>
\end_layout

\begin_layout Plain Layout

	<host>
\end_layout

\begin_layout Plain Layout

		<name>erpserver</name>
\end_layout

\begin_layout Plain Layout

        <alias>172.25.1.113<alias>
\end_layout

\begin_layout Plain Layout

		<desc>ERP server</desc>
\end_layout

\begin_layout Plain Layout

		<service>
\end_layout

\begin_layout Plain Layout

			<name>orders</name> 
\end_layout

\begin_layout Plain Layout

			<desc>Order management</desc>
\end_layout

\begin_layout Plain Layout

			<schedule>0 0/5 * * * ?</schedule>
\end_layout

\begin_layout Plain Layout

			<url>
\end_layout

\begin_layout Plain Layout

				jdbc:mysql://$$HOSTALIAS$$/erpdb?user=bischeck&amp;password=bischeck
\end_layout

\begin_layout Plain Layout

			</url>
\end_layout

\begin_layout Plain Layout

			<driver>com.mysql.jdbc.Driver</driver>
\end_layout

\begin_layout Plain Layout

			<serviceitem>
\end_layout

\begin_layout Plain Layout

				<name>ediorders</name>
\end_layout

\begin_layout Plain Layout

				<desc>Inbound edi orders</desc>
\end_layout

\begin_layout Plain Layout

				<execstatement>
\end_layout

\begin_layout Plain Layout

					select count(*) from orders where createdate=&apos;%%yyyy-MM-dd%%&apos;
     
\end_layout

\begin_layout Plain Layout

				</execstatement> 
\end_layout

\begin_layout Plain Layout

				<thresholdclass>Twenty4HourThreshold</thresholdclass>
\end_layout

\begin_layout Plain Layout

				<serviceitemclass>SQLServiceItem</serviceitemclass>
\end_layout

\begin_layout Plain Layout

			</serviceitem>
\end_layout

\begin_layout Plain Layout

		</service>
\end_layout

\begin_layout Plain Layout

	</host>
\end_layout

\begin_layout Plain Layout

</bischeck>
\end_layout

\end_inset


\end_layout

\begin_layout Standard
In the host section the following elements are defined: 
\end_layout

\begin_layout Itemize
name - (mandatory) the name of the host.
 
\begin_inset Foot
status open

\begin_layout Plain Layout
Must be the same name as the host name
\change_inserted 717047130 1394135981
 
\change_unchanged
configured
\change_inserted 717047130 1394135983
 
\change_unchanged
on the Nagios server.
\end_layout

\end_inset

 
\end_layout

\begin_layout Itemize
inactive - (optional, default false) if set to true
\change_inserted 717047130 1394135993
,
\change_unchanged
 the host and all its services will not be configured.
\end_layout

\begin_layout Itemize
alias - (optional) can be anything
\end_layout

\begin_layout Itemize
desc - (optional)description field 
\end_layout

\begin_layout Standard
In the service section the following elements are defined: 
\end_layout

\begin_layout Itemize
name - (mandatory) the name of the service.
 
\begin_inset Foot
status open

\begin_layout Plain Layout
Must be the same name as the service name configured on the Nagios server.
\end_layout

\end_inset

 
\end_layout

\begin_layout Itemize
inactive - (optional, default false) if set to true the service and all
 its serviceitems will not be configured.
\end_layout

\begin_layout Itemize
alias - (optional) can be anything
\end_layout

\begin_layout Itemize
desc - (optional) description field 
\end_layout

\begin_layout Itemize
schedule - (one is mandatory) one to many service execution schedules can
 be defined.
 See the section 
\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Service-scheduling"

\end_inset

 for more information about scheduling options.
 
\end_layout

\begin_layout Itemize
sendserver - (optional, default true) true or false to define if the service
 data should be sent to the configured monitoring servers, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:server.xml-1"

\end_inset


\emph default
\bar default
.
 If set to false the measured data will only be placed in the Bischeck cache
 and be used to create virtual services and threshold rules.
\end_layout

\begin_layout Itemize
url - (mandatory) the connection specification for the server/service to
 monitor in an url format 
\end_layout

\begin_layout Itemize
driver - (optional) a class that 
\change_deleted 717047130 1394136120
is
\change_inserted 717047130 1394136120
may
\change_unchanged
 
\change_inserted 717047130 1394136125
be 
\change_unchanged
needed by the url specification.
 The driver class should be placed in the 
\emph on
$BISHOME/customlib
\emph default
 directory.
 
\end_layout

\begin_layout Standard
In the serviceitem section
\change_inserted 717047130 1394136134
,
\change_unchanged
 the following elements are defined:
\end_layout

\begin_layout Itemize
name - (mandatory) name of the serviceitem
\end_layout

\begin_layout Itemize
alias - (optional) can be anything
\end_layout

\begin_layout Itemize
desc - (optional) description field
\end_layout

\begin_layout Itemize
execstatement - (mandatory) the specification of what to be executed by
 the serviceitem.
 The statement will be dependent on the type of serviceitem class used.
\end_layout

\begin_layout Itemize
serviceitemclass - (mandatory) the ServiceItem class to use for the serviceitem.
 For ServiceItem classes that are part of the distribution the class name
 is enough.
 For custom developed ServiceItem classes the full class name should be
 specified and the classes or jar files should be located in the 
\emph on
customlib
\emph default
 directory.
\end_layout

\begin_layout Itemize
thresholdclass - (optional) the Threshold class to be used by the serviceitem
 configuration.
 For Threshold classes part of the distribution
\change_inserted 717047130 1394136254
,
\change_unchanged
 the class name is enough.
 For custom developed Threshold classes
\change_inserted 717047130 1394136260
,
\change_unchanged
 the full class name should be specified and the classes or jar files should
 be located in the 
\emph on
customlib
\emph default
 directory.
\end_layout

\begin_layout Standard

\change_deleted 717047130 1394136276
Remember
\change_inserted 717047130 1394136276
Note
\change_unchanged
 that the order of the attributes 
\change_deleted 717047130 1394136291
are
\change_inserted 717047130 1394136291
is
\change_unchanged
 fixed and define
\change_inserted 717047130 1394136269
d
\change_unchanged
 by the schema file.
\end_layout

\begin_layout Subsection
Service and serviceitem template
\change_inserted 717047130 1394136298
s
\change_unchanged

\end_layout

\begin_layout Standard
Instead of specifying a service for each host
\change_inserted 717047130 1394136310
,
\change_unchanged
 a service template can be used.
 In the example below
\change_inserted 717047130 1394136326
,
\change_unchanged
 
\change_deleted 717047130 1394136324
we 
\change_unchanged
two host
\change_inserted 717047130 1394136328
s
\change_unchanged
 using the same service template called 
\emph on
ordertemplate
\change_inserted 717047130 1394136337

\emph default
 are configured
\change_unchanged
.
 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

...
\end_layout

\begin_layout Plain Layout

	<host>
\end_layout

\begin_layout Plain Layout

		<name>erpserver1</name>
\end_layout

\begin_layout Plain Layout

        <alias>172.25.1.113<alias>
\end_layout

\begin_layout Plain Layout

		<desc>ERP server branch FOO</desc>
\end_layout

\begin_layout Plain Layout

		<service>
\end_layout

\begin_layout Plain Layout

			<template>ordertemplate</template>
\end_layout

\begin_layout Plain Layout

        </service>
\end_layout

\begin_layout Plain Layout

	</host>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<host>
\end_layout

\begin_layout Plain Layout

		<name>erpserver2</name>
\end_layout

\begin_layout Plain Layout

        <alias>172.25.1.123<alias>
\end_layout

\begin_layout Plain Layout

		<desc>ERP server branch BAR</desc>
\end_layout

\begin_layout Plain Layout

		<service>
\end_layout

\begin_layout Plain Layout

			<template>ordertemplate</template>
\end_layout

\begin_layout Plain Layout

        </service>
\end_layout

\begin_layout Plain Layout

	</host>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<servicetemplate templatename="ordertemplate">
\end_layout

\begin_layout Plain Layout

		<name>orders</name> 
\end_layout

\begin_layout Plain Layout

		<desc>Order management</desc>
\end_layout

\begin_layout Plain Layout

		<schedule>0 0/5 * * * ?</schedule>
\end_layout

\begin_layout Plain Layout

		<url>
\end_layout

\begin_layout Plain Layout

			jdbc:mysql://$$HOSTALIAS$$/erpdb?user=bischeck&amp;password=bischeck
\end_layout

\begin_layout Plain Layout

		</url>
\end_layout

\begin_layout Plain Layout

		<driver>com.mysql.jdbc.Driver</driver>
\end_layout

\begin_layout Plain Layout

		<serviceitem>
\end_layout

\begin_layout Plain Layout

			<name>ediorders</name>
\end_layout

\begin_layout Plain Layout

			<desc>Inbound edi orders</desc>
\end_layout

\begin_layout Plain Layout

			<execstatement>
\end_layout

\begin_layout Plain Layout

				select count(*) from orders where createdate=&apos;%%yyyy-MM-dd%%&apos;
     
\end_layout

\begin_layout Plain Layout

			</execstatement> 
\end_layout

\begin_layout Plain Layout

			<thresholdclass>Twenty4HourThreshold</thresholdclass>
\end_layout

\begin_layout Plain Layout

			<serviceitemclass>SQLServiceItem</serviceitemclass>
\end_layout

\begin_layout Plain Layout

		</serviceitem>
\end_layout

\begin_layout Plain Layout

	</servicetemplate>
\end_layout

\begin_layout Plain Layout

	
\end_layout

\begin_layout Plain Layout

....
\end_layout

\end_inset


\end_layout

\begin_layout Standard
In the above example the serviceitem was part of the service template but
 the serviceitem can also be defined as a template.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

...
\end_layout

\begin_layout Plain Layout

	<host>
\end_layout

\begin_layout Plain Layout

		<name>erpserver1</name>
\end_layout

\begin_layout Plain Layout

        <alias>172.25.1.113<alias>
\end_layout

\begin_layout Plain Layout

		<desc>ERP server branch FOO</desc>
\end_layout

\begin_layout Plain Layout

		<service>
\end_layout

\begin_layout Plain Layout

			<template>ordertemplate</template>
\end_layout

\begin_layout Plain Layout

        </service>
\end_layout

\begin_layout Plain Layout

	</host>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<host>
\end_layout

\begin_layout Plain Layout

		<name>erpserver2</name>
\end_layout

\begin_layout Plain Layout

        <alias>172.25.1.123<alias>
\end_layout

\begin_layout Plain Layout

		<desc>ERP server branch BAR</desc>
\end_layout

\begin_layout Plain Layout

		<service>
\end_layout

\begin_layout Plain Layout

			<template>ordertemplate</template>
\end_layout

\begin_layout Plain Layout

        </service>
\end_layout

\begin_layout Plain Layout

	</host>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<servicetemplate templatename="ordertemplate">
\end_layout

\begin_layout Plain Layout

		<name>orders</name>
\end_layout

\begin_layout Plain Layout

		<alias>tbl_order</alias>
\end_layout

\begin_layout Plain Layout

		<desc>Order management</desc>
\end_layout

\begin_layout Plain Layout

		<schedule>0 0/5 * * * ?</schedule>
\end_layout

\begin_layout Plain Layout

		<url>
\end_layout

\begin_layout Plain Layout

			jdbc:mysql://$$HOSTALIAS$$/erpdb?user=bischeck&amp;password=bischeck
\end_layout

\begin_layout Plain Layout

		</url>
\end_layout

\begin_layout Plain Layout

		<driver>com.mysql.jdbc.Driver</driver>
\end_layout

\begin_layout Plain Layout

		<serviceitem>
\end_layout

\begin_layout Plain Layout

			<template>orderSQLtemplate</template>
\end_layout

\begin_layout Plain Layout

		</serviceitem>
\end_layout

\begin_layout Plain Layout

	</servicetemplate>
\end_layout

\begin_layout Plain Layout

	
\end_layout

\begin_layout Plain Layout

	<serviceitemtemplate templatename="orderSQLtemplate">
\end_layout

\begin_layout Plain Layout

		<name>ediorders</name>
\end_layout

\begin_layout Plain Layout

		<desc>Inbound edi orders</desc>
\end_layout

\begin_layout Plain Layout

		<execstatement>
\end_layout

\begin_layout Plain Layout

			select count(*) from $$SERVICEALIAS$$ where createdate=&apos;%%yyyy-MM-dd%%&a
pos;     
\end_layout

\begin_layout Plain Layout

		</execstatement> 
\end_layout

\begin_layout Plain Layout

		<thresholdclass>Twenty4HourThreshold</thresholdclass>
\end_layout

\begin_layout Plain Layout

		<serviceitemclass>SQLServiceItem</serviceitemclass>
\end_layout

\begin_layout Plain Layout

	</serviceitemtemplate>
\end_layout

\begin_layout Plain Layout

	
\end_layout

\begin_layout Plain Layout

	
\end_layout

\begin_layout Plain Layout

....
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\change_deleted 717047130 1394136425
With
\change_inserted 717047130 1394136426
Using
\change_unchanged
 this structure
\change_inserted 717047130 1394136428
,
\change_unchanged
 a ser
\change_deleted 717047130 1394136438
iv
\change_inserted 717047130 1394136438
vi
\change_unchanged
ceitem template can be shared between multiple services and service templates.
 In addition it
\change_inserted 717047130 1394136480
 
\change_deleted 717047130 1394136481
'
\change_inserted 717047130 1394136482
make
\change_unchanged
s 
\change_inserted 717047130 1394136487
it 
\change_unchanged
possible to 
\change_deleted 717047130 1394136501
override
\change_inserted 717047130 1394136501
change
\change_unchanged
 the settings in a template by using the service and serviceitem overrides.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

...
\end_layout

\begin_layout Plain Layout

	<host>
\end_layout

\begin_layout Plain Layout

		<name>erpserver1</name>
\end_layout

\begin_layout Plain Layout

        <alias>172.25.1.113<alias>
\end_layout

\begin_layout Plain Layout

		<desc>ERP server branch FOO</desc>
\end_layout

\begin_layout Plain Layout

		<service>
\end_layout

\begin_layout Plain Layout

			<template>ordertemplate</template>
\end_layout

\begin_layout Plain Layout

			<serviceoverride>
\end_layout

\begin_layout Plain Layout

            	<name>ordersInERP1</name>   
\end_layout

\begin_layout Plain Layout

				<alias>10.10.10.10</alias>   
\end_layout

\begin_layout Plain Layout

				<schedule>15M</schedule>      
\end_layout

\begin_layout Plain Layout

			</serviceoverride>
\end_layout

\begin_layout Plain Layout

        </service>
\end_layout

\begin_layout Plain Layout

	</host>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<host>
\end_layout

\begin_layout Plain Layout

		<name>erpserver2</name>
\end_layout

\begin_layout Plain Layout

        <alias>172.25.1.123<alias>
\end_layout

\begin_layout Plain Layout

		<desc>ERP server branch BAR</desc>
\end_layout

\begin_layout Plain Layout

		<service>
\end_layout

\begin_layout Plain Layout

			<template>ordertemplate</template>
\end_layout

\begin_layout Plain Layout

        </service>
\end_layout

\begin_layout Plain Layout

	</host>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<servicetemplate templatename="ordertemplate">
\end_layout

\begin_layout Plain Layout

		<name>orders</name>
\end_layout

\begin_layout Plain Layout

		<alias>tbl_order</alias>
\end_layout

\begin_layout Plain Layout

		<desc>Order management</desc>
\end_layout

\begin_layout Plain Layout

		<schedule>0 0/5 * * * ?</schedule>
\end_layout

\begin_layout Plain Layout

		<url>
\end_layout

\begin_layout Plain Layout

			jdbc:mysql://$$HOSTALIAS$$/erpdb?user=bischeck&amp;password=bischeck
\end_layout

\begin_layout Plain Layout

		</url>
\end_layout

\begin_layout Plain Layout

		<driver>com.mysql.jdbc.Driver</driver>
\end_layout

\begin_layout Plain Layout

		<serviceitem>
\end_layout

\begin_layout Plain Layout

			<template>orderSQLtemplate</template>
\end_layout

\begin_layout Plain Layout

			<serviceitemoverride>
\end_layout

\begin_layout Plain Layout

				<name>SSHport</name>
\end_layout

\begin_layout Plain Layout

			</serviceitemoverride>
\end_layout

\begin_layout Plain Layout

		</serviceitem>
\end_layout

\begin_layout Plain Layout

	</servicetemplate>
\end_layout

\begin_layout Plain Layout

	
\end_layout

\begin_layout Plain Layout

	<serviceitemtemplate templatename="orderSQLtemplate">
\end_layout

\begin_layout Plain Layout

		<name>ediorders</name>
\end_layout

\begin_layout Plain Layout

		<desc>Inbound edi orders</desc>
\end_layout

\begin_layout Plain Layout

		<execstatement>
\end_layout

\begin_layout Plain Layout

			select count(*) from $$SERVICEALIAS$$ where createdate=&apos;%%yyyy-MM-dd%%&a
pos;     
\end_layout

\begin_layout Plain Layout

		</execstatement> 
\end_layout

\begin_layout Plain Layout

		<thresholdclass>Twenty4HourThreshold</thresholdclass>
\end_layout

\begin_layout Plain Layout

		<serviceitemclass>SQLServiceItem</serviceitemclass>
\end_layout

\begin_layout Plain Layout

	</serviceitemtemplate>
\end_layout

\begin_layout Plain Layout

	
\end_layout

\begin_layout Plain Layout

	
\end_layout

\begin_layout Plain Layout

....
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Service override
\change_inserted 717047130 1394136534
s
\change_unchanged
 are supported for all tags in a service except 
\change_inserted 717047130 1394136544
for 
\change_unchanged
the reference to the serviceitem.
 Serviceitem overrides are support
\change_inserted 717047130 1394136548
ed
\change_unchanged
 for all tags in the serviceitem.
\end_layout

\begin_layout Standard
Overrides are powerful
\change_deleted 717047130 1394136562
,
\change_unchanged
 but 
\change_deleted 717047130 1394136564
it 
\change_unchanged
should be used with caution.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "label:Cache-template"

\end_inset

Cache template
\change_inserted 717047130 1394136574
s
\change_unchanged

\end_layout

\begin_layout Standard
The cache template define
\change_inserted 717047130 1394136579
s
\change_unchanged
 how many items 
\change_inserted 717047130 1394136589
that 
\change_unchanged
should be stored in the cache for the specific service definition and what
 type of automated aggregation 
\change_deleted 717047130 1394136599
that should be
\change_inserted 717047130 1394136599
to
\change_unchanged
 conduct
\change_deleted 717047130 1394136602
ed
\change_unchanged
.
 Using a cache template is not mandatory
\change_deleted 717047130 1394136614
,
\change_unchanged
 but there is no default aggregation in th
\change_deleted 717047130 1394136622
at case
\change_inserted 717047130 1394136631
e case of not using one
\change_unchanged
.
 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

...
\end_layout

\begin_layout Plain Layout

	<servicetemplate templatename="ordertemplate">
\end_layout

\begin_layout Plain Layout

		<name>orders</name>
\end_layout

\begin_layout Plain Layout

		<alias>tbl_order</alias>
\end_layout

\begin_layout Plain Layout

		<desc>Order management</desc>
\end_layout

\begin_layout Plain Layout

		<schedule>0 0/5 * * * ?</schedule>
\end_layout

\begin_layout Plain Layout

		<url>
\end_layout

\begin_layout Plain Layout

			jdbc:mysql://$$HOSTALIAS$$/erpdb?user=bischeck&amp;password=bischeck
\end_layout

\begin_layout Plain Layout

		</url>
\end_layout

\begin_layout Plain Layout

		<driver>com.mysql.jdbc.Driver</driver>
\end_layout

\begin_layout Plain Layout

		<serviceitem>
\end_layout

\begin_layout Plain Layout

			<template>orderSQLtemplate</template>
\end_layout

\begin_layout Plain Layout

			<serviceitemoverride>
\end_layout

\begin_layout Plain Layout

				<name>SSHport</name>
\end_layout

\begin_layout Plain Layout

			</serviceitemoverride>
\end_layout

\begin_layout Plain Layout

		</serviceitem>
\end_layout

\begin_layout Plain Layout

	</servicetemplate>
\end_layout

\begin_layout Plain Layout

	
\end_layout

\begin_layout Plain Layout

	<serviceitemtemplate templatename="orderSQLtemplate">
\end_layout

\begin_layout Plain Layout

		<name>ediorders</name>
\end_layout

\begin_layout Plain Layout

		<desc>Inbound edi orders</desc>
\end_layout

\begin_layout Plain Layout

		<execstatement>
\end_layout

\begin_layout Plain Layout

			select count(*) from $$SERVICEALIAS$$ where createdate=&apos;%%yyyy-MM-dd%%&a
pos;     
\end_layout

\begin_layout Plain Layout

		</execstatement> 
\end_layout

\begin_layout Plain Layout

		<thresholdclass>Twenty4HourThreshold</thresholdclass>
\end_layout

\begin_layout Plain Layout

		<serviceitemclass>SQLServiceItem</serviceitemclass>
\end_layout

\begin_layout Plain Layout

		<cache>
\end_layout

\begin_layout Plain Layout

	        <template>cacheDef</template>
\end_layout

\begin_layout Plain Layout

	    </cache>
\end_layout

\begin_layout Plain Layout

	</serviceitemtemplate>
\end_layout

\begin_layout Plain Layout

	
\end_layout

\begin_layout Plain Layout

	<cachetemplate templatename="cacheDef">
\end_layout

\begin_layout Plain Layout

		<aggregate>
\end_layout

\begin_layout Plain Layout

			<method>avg</method>
\end_layout

\begin_layout Plain Layout

			<useweekend>true</useweekend>
\end_layout

\begin_layout Plain Layout

			<retention>
\end_layout

\begin_layout Plain Layout

				<period>H</period>
\end_layout

\begin_layout Plain Layout

				<offset>168</offset>
\end_layout

\begin_layout Plain Layout

			</retention>
\end_layout

\begin_layout Plain Layout

			<retention> 
\end_layout

\begin_layout Plain Layout

				<period>D</period>
\end_layout

\begin_layout Plain Layout

				<offset>60</offset>
\end_layout

\begin_layout Plain Layout

			</retention> 
\end_layout

\begin_layout Plain Layout

			<retention>   
\end_layout

\begin_layout Plain Layout

				<period>W</period>
\end_layout

\begin_layout Plain Layout

				<offset>53</offset>
\end_layout

\begin_layout Plain Layout

			</retention> 
\end_layout

\begin_layout Plain Layout

		</aggregate> 
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		<purge> 
\end_layout

\begin_layout Plain Layout

			<maxcount>1000</maxcount>   
\end_layout

\begin_layout Plain Layout

    	</purge>   
\end_layout

\begin_layout Plain Layout

	</cachetemplate> 
\end_layout

\begin_layout Plain Layout

....
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The cache template is support
\change_inserted 717047130 1394136672
ed
\change_unchanged
 
\change_deleted 717047130 1394136677
on
\change_inserted 717047130 1394136677
for
\change_unchanged
 a normal serviceitem and in a serviceitem template.
 In the above example
\change_inserted 717047130 1394136685
,
\change_unchanged
 a cache template is added in the serviceitem template
\change_deleted 717047130 1394136709
 on
\change_inserted 717047130 1394136711
, in
\change_unchanged
 line
\change_inserted 717047130 1394136713
s
\change_unchanged
 27-29.
\end_layout

\begin_layout Standard

\change_deleted 717047130 1394136740
On l
\change_inserted 717047130 1394136796
In L
\change_unchanged
ine 33
\change_inserted 717047130 1394136799
,
\change_unchanged
 
\change_deleted 717047130 1394136774
is a configuration to use
\change_inserted 717047130 1394136777
the usage of
\change_unchanged
 an average based aggregation
\change_inserted 717047130 1394136782
 is configured
\change_unchanged
.
 The example define
\change_inserted 717047130 1394136806
s
\change_unchanged
 that weekend data should be included in the aggregation.
 
\change_deleted 717047130 1394136813
O
\change_inserted 717047130 1394136813
I
\change_unchanged
n line 36
\change_inserted 717047130 1394136816
,
\change_unchanged
 we define that hourly aggregation should be kept for 168 hours.
 This means 
\change_inserted 717047130 1394136825
that 
\change_unchanged
we will have a maximum of 168 items in the cache for the aggregated hourly
 data.
 See more about the aggregated service definition naming in section 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Aggregations"

\end_inset

.

\emph default
\bar default
 The same rules apply for the other periods like day, week and month.
\end_layout

\begin_layout Standard
The purge section 
\change_deleted 717047130 1394136846
o
\change_inserted 717047130 1394136846
i
\change_unchanged
n line 50 define
\change_inserted 717047130 1394136848
s
\change_unchanged
 how many items 
\change_inserted 717047130 1394136859
that 
\change_unchanged
should be kept in the cache for 
\change_deleted 717047130 1394136884
the
\change_inserted 717047130 1394136884
a
\change_unchanged
 service definition that use
\change_inserted 717047130 1394136889
s
\change_unchanged
 the cache template.
 If not configured
\change_inserted 717047130 1394136893
,
\change_unchanged
 the property 
\emph on
lastStatusCacheSize
\emph default
 will be used.
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:properties.xml"

\end_inset

properties.xml
\end_layout

\begin_layout Standard
The properties.xml sets properties used by the core of Bischeck.
 The 
\emph on
properties.xml
\emph default
 has a simple structure of key/value pair: 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

<properties>
\end_layout

\begin_layout Plain Layout

	<property> 
\end_layout

\begin_layout Plain Layout

		<key>akey</key> 
\end_layout

\begin_layout Plain Layout

		<value>avalue</value>   
\end_layout

\begin_layout Plain Layout

	</property>
\end_layout

\begin_layout Plain Layout

</properties>
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\change_deleted -2048955058 1394219916
A
\change_deleted 717047130 1394136930
ny
\change_deleted -2048955058 1394219916
ll properties should have a default value that is set in code.
 Vilken kod? Bischecks? 
\end_layout

\begin_layout Standard
The properties.xml file 
\change_inserted -2048955058 1394219937
include standard Bischeck properties but 
\change_unchanged
can also include class specific properties
\change_deleted 717047130 1394136974
 typical
\change_unchanged
 used 
\change_deleted 717047130 1394136977
for
\change_inserted 717047130 1394136977
in
\change_unchanged
 custom developed service, serviceitem and threshold classes.
 A class specific property should have a key formatted in the following
 way - classname.propertyname.
 Any class specific properties must have a default value implemented by
 the class itself.
 E.g.
 for 
\change_inserted 717047130 1394137005
the 
\change_unchanged
JDBCService
\change_inserted 717047130 1394137007
,
\change_unchanged
 there is a property called querytimeout that sets the max time in seconds
 before aborting the query.
 This property has the name JDBCService.querytimeout and have a default value
 of 10 seconds.
 
\end_layout

\begin_layout Standard
The following general properties are currently used by 
\change_deleted 717047130 1394137025
core 
\change_unchanged
Bischeck
\change_inserted 717047130 1394137027
 core
\change_unchanged
:
\end_layout

\begin_layout Itemize
thresholdCacheClear- the time when the threshold cache should be evicted
 each day, default is "10 0 00 * * ? *".
 This property can be set to a higher interval
\change_deleted 717047130 1394137043
,
\change_unchanged
 but must at least be triggered in the beginning of a new day.

\change_inserted 717047130 1394137085
 Vad betyder higher här? Vad menas med början av dagen, före lunch...?
\change_inserted -2048955058 1394220046
 Det betyder varje timme tex, men måste göras i början av varje dag.
 Möjligen skulle man ta bort denna som en konfigurerbar property
\change_unchanged

\end_layout

\begin_layout Itemize
pidfile - the pid file holding the process id for the Bischeck process,
 default is "
\emph on
/var/tmp/bischeck.pid
\emph default
".
\end_layout

\begin_layout Itemize
mindaysinfirstweek - define the week numbering according to ISO 8601, default
 is 4.
\end_layout

\begin_layout Itemize
firstdayofweek - define the week numbering according to ISO 8601, default
 is 2.
 
\end_layout

\begin_layout Itemize
lastStatusCacheDumpDir - the directory where 
\change_inserted 717047130 1394137126
the 
\change_unchanged
cache is stored, default is /var/tmp.
 
\begin_inset Note Greyedout
status open

\begin_layout Plain Layout
Deprecated - not applicable with the redis cache.
\end_layout

\end_inset

 
\end_layout

\begin_layout Itemize
lastStatusCacheSize - the default maximum size of cached data per service
 definition
\change_deleted 717047130 1394137150
 
\change_unchanged
, default is 500.
 This value is overridden by cache settings, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Cache-template"

\end_inset


\emph default
\bar default
 
\end_layout

\begin_layout Itemize
runAfterDelay - the delay time in seconds used when a service is scheduled
 to run with 
\begin_inset Quotes eld
\end_inset

Service relation scheduling
\begin_inset Quotes erd
\end_inset

, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Service-scheduling"

\end_inset


\emph default
\bar default
.
 Default is 10 seconds.
\end_layout

\begin_layout Itemize
notFullListParse - if set to true
\change_inserted 717047130 1394137166
,
\change_unchanged
 a reference to a cache item where a list is used, like 
\emph on
erpserver-orders-ediorders[1:10],
\emph default
 will return data even if not all index
\change_inserted 717047130 1394137174
es
\change_unchanged
 in the list 
\change_deleted 717047130 1394137203
has
\change_inserted 717047130 1394137205
contains
\change_unchanged
 data.
 Read more about how this property affect the retrieval of cache data in
 section 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Null-value-in"

\end_inset


\emph default
\bar default
.
\end_layout

\begin_layout Itemize
stateOnNull - the state to be used if a
\change_inserted 717047130 1394137216
n
\change_unchanged
 execstatment in a serviceitem return
\change_inserted 717047130 1394137219
s
\change_unchanged
 null.
 The property can be set to an integer 0,1,2 or 3 or to the string OK, WARNING,
 CRITICAL or UNKNOWN.
 The default is UNKNOWN.
\end_layout

\begin_layout Itemize
saveNullOnConnectionError - this property define
\change_inserted 717047130 1394137232
s
\change_unchanged
 if a null value should be stored in the cache if the service class has
 a connection exception of any sort.
 The default is false.
 
\end_layout

\begin_layout Itemize
NagiosUtil.extendedformat - define
\change_inserted 717047130 1394137241
s
\change_unchanged
 if the Nagios performance data should include the warning and critical
 levels as its own data entity so it can be stored in RRD and be plotted
 through pnp4nagios or equivalent solutions.
 The extended format will look like the following example:
\change_inserted 717047130 1394137270
 VAD ÄR RRD?
\change_unchanged

\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true"
inline false
status open

\begin_layout Plain Layout

response=0.000192;0.000167;0.000158;0; threshold=0.000176;0;0;0; 
\end_layout

\begin_layout Plain Layout

warning=0.000167;0;0;0; critical=0.000158;0;0;0; avg-exec-time=13ms
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Redis cache properties
\end_layout

\begin_layout Standard
The following properties control the connection to Redis:
\end_layout

\begin_layout Itemize
cache.provider.redis.server - the hostname/IP of the redis server, default
 is localhost.
\end_layout

\begin_layout Itemize
cache.provider.redis.port - the socket port where redis server listen
\change_inserted 717047130 1394137314
s
\change_unchanged
, default is 6379.
\end_layout

\begin_layout Itemize
cache.provider.redis.db - the redis database number to use, default is 0.
\end_layout

\begin_layout Itemize
cache.provider.redis.auth - the authorization token for redis, default is 
\change_inserted 717047130 1394137323
the 
\change_unchanged
empty string.
\end_layout

\begin_layout Itemize
cache.provider.redis.timeout - the connection timeout, default is 2000 ms
\change_deleted 717047130 1394137326
 
\change_unchanged
.
\end_layout

\begin_layout Itemize
cache.provider.redis.poolsize - the size of the redis connection pool, default
 is 50.
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Paragraph
Internal surveillance excluded from version 1.0.0
\end_layout

\begin_layout Plain Layout
Bischeck expose
\change_inserted 717047130 1394137340
s
\change_unchanged
 a large amount of information about the internal state through JMX, see
 more in the 
\begin_inset Quotes eld
\end_inset

Bischeck installation and administration guide
\begin_inset Quotes erd
\end_inset

.
 JMX can be used by other monitoring systems to control the state of Bischeck.
 Some of the JMX 
\change_inserted 717047130 1394137371
information 
\change_unchanged
can also be exposed through a passive check using NSCA server
\change_deleted 717047130 1394137389
 or
\change_inserted 717047130 1394137389
.

\change_unchanged
 
\end_layout

\begin_layout Plain Layout
The following properties control the internal Bischeck surveillance 
\end_layout

\begin_layout Itemize
bischeckHostName - The hostname that should be used for the service definition
 sending the internal surveillance information, the default is 
\emph on
bischeck
\end_layout

\begin_layout Itemize
sendInternal - false
\end_layout

\begin_layout Itemize
sendInternalInterval - "0 */5 * * * ? *" 
\end_layout

\end_inset


\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:urlservice.xml"

\end_inset

urlservice.xml 
\end_layout

\begin_layout Standard
The configuration define
\change_inserted 717047130 1394137427
s
\change_unchanged
 the mapping between 
\change_inserted 717047130 1394137435
the 
\change_unchanged
service url schema and 
\change_inserted 717047130 1394137438
the 
\change_unchanged
Service class.
 The urlservice xml has a structure of: 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

<urlservices>
\end_layout

\begin_layout Plain Layout

	<urlproperty>
\end_layout

\begin_layout Plain Layout

		<key>jdbc</key>
\end_layout

\begin_layout Plain Layout

		<value>JDBCService</value>
\end_layout

\begin_layout Plain Layout

	</urlproperty>
\end_layout

\begin_layout Plain Layout

	<urlproperty>
\end_layout

\begin_layout Plain Layout

		<key>bischeck</key>
\end_layout

\begin_layout Plain Layout

		<value>LastCacheService</value>  
\end_layout

\begin_layout Plain Layout

	</urlproperty>
\end_layout

\begin_layout Plain Layout

</urlservices>
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
key – the schema part of the service url, 
\change_deleted 717047130 1394137470
i.e.
\change_inserted 717047130 1394137471
e.g.

\change_unchanged
 jdbc.
\end_layout

\begin_layout Itemize
value – the Service class name.
 For Service classes part of the distribution
\change_inserted 717047130 1394137483
,
\change_unchanged
 the class name is enough
\change_deleted 717047130 1394137488
 to specify
\change_unchanged
.
 For custom developed Service classes
\change_inserted 717047130 1394137493
,
\change_unchanged
 the full class name should be specified and the classes or jar files should
 be located in the 
\emph on
$BISHOME/customlib
\emph default
 directory.
\end_layout

\begin_layout Standard
For valid url's see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Services-and-service"

\end_inset


\emph default
\bar default
.
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:24thresholds.xml"

\end_inset

24thresholds.xml
\end_layout

\begin_layout Standard
The threshold class Twenty4HourThreshold described in section 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Twenty4HourThreshold-class"

\end_inset


\emph default
\bar default
 is configured through the 24thresholds.xml file.
 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

<twenty4threshold> 
\end_layout

\begin_layout Plain Layout

	<servicedef>
\end_layout

\begin_layout Plain Layout

		<hostname>erpserver</hostname>
\end_layout

\begin_layout Plain Layout

		<servicename>shipments</servicename> 
\end_layout

\begin_layout Plain Layout

		<serviceitemname>outboundshipment</serviceitemname>  
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		<period>
\end_layout

\begin_layout Plain Layout

			<!-- valid for any 21th day in the month -->  
\end_layout

\begin_layout Plain Layout

			<months> 
\end_layout

\begin_layout Plain Layout

				<dayofmonth>21</dayofmonth> 
\end_layout

\begin_layout Plain Layout

			</months> 			
\end_layout

\begin_layout Plain Layout

			<!-- valid for week 12 (middle of March)
\end_layout

\begin_layout Plain Layout

				and if its a Thursday -->
\end_layout

\begin_layout Plain Layout

			<weeks> 
\end_layout

\begin_layout Plain Layout

				<week>12</week>
\end_layout

\begin_layout Plain Layout

				<dayofweek>5</dayofweek>
\end_layout

\begin_layout Plain Layout

			</weeks> 
\end_layout

\begin_layout Plain Layout

			
\end_layout

\begin_layout Plain Layout

			<calcmethod>&gt;</calcmethod> 
\end_layout

\begin_layout Plain Layout

			<warning>10</warning> 
\end_layout

\begin_layout Plain Layout

			<critical>30</critical> 
\end_layout

\begin_layout Plain Layout

			<hoursIDREF>1</hoursIDREF> 
\end_layout

\begin_layout Plain Layout

		</period>
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		<period>
\end_layout

\begin_layout Plain Layout

			<!-- valid if its a Friday --> 
\end_layout

\begin_layout Plain Layout

			<weeks> 
\end_layout

\begin_layout Plain Layout

				<dayofweek>6</dayofweek>
\end_layout

\begin_layout Plain Layout

			</weeks> 
\end_layout

\begin_layout Plain Layout

			<calcmethod>&gt;</calcmethod> 
\end_layout

\begin_layout Plain Layout

			<warning>10</warning> 
\end_layout

\begin_layout Plain Layout

			<critical>30</critical> 
\end_layout

\begin_layout Plain Layout

			<hoursIDREF>2</hoursIDREF> 
\end_layout

\begin_layout Plain Layout

		</period>
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		<period>
\end_layout

\begin_layout Plain Layout

			<!-- This will be used if no 
\end_layout

\begin_layout Plain Layout

				other rule if applicable -->
\end_layout

\begin_layout Plain Layout

			<calcmethod>&gt;</calcmethod>
\end_layout

\begin_layout Plain Layout

			<warning>10</warning> 
\end_layout

\begin_layout Plain Layout

			<critical>30</critical> 
\end_layout

\begin_layout Plain Layout

			<hoursIDREF>31</hoursIDREF> 
\end_layout

\begin_layout Plain Layout

		</period>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	</servicedef> 
\end_layout

\begin_layout Plain Layout

  
\end_layout

\begin_layout Plain Layout

	<hours hoursID="1"> 
\end_layout

\begin_layout Plain Layout

		<!-- 00:00 -->
\end_layout

\begin_layout Plain Layout

		<hour>500</hour> 
\end_layout

\begin_layout Plain Layout

		<!-- 01:00 -->	
\end_layout

\begin_layout Plain Layout

		<hour>1500</hour> 
\end_layout

\begin_layout Plain Layout

		<!-- 02:00 -->
\end_layout

\begin_layout Plain Layout

		<hour>4000</hour> 
\end_layout

\begin_layout Plain Layout

		.................
\end_layout

\begin_layout Plain Layout

		<!-- 21:00 -->
\end_layout

\begin_layout Plain Layout

		<hour>9000</hour> 
\end_layout

\begin_layout Plain Layout

		<!-- 22:00 -->
\end_layout

\begin_layout Plain Layout

		<hour>10000</hour> 
\end_layout

\begin_layout Plain Layout

		<!-- 23:00 -->
\end_layout

\begin_layout Plain Layout

		<hour>11000</hour> 
\end_layout

\begin_layout Plain Layout

	</hours>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<hours hoursID="2"> 
\end_layout

\begin_layout Plain Layout

		<!-- 00:00 -->
\end_layout

\begin_layout Plain Layout

		<hour>1500</hour> 
\end_layout

\begin_layout Plain Layout

		<!-- 01:00 -->	
\end_layout

\begin_layout Plain Layout

		<hour>2500</hour> 
\end_layout

\begin_layout Plain Layout

		<!-- 02:00 -->
\end_layout

\begin_layout Plain Layout

		<hour>5000</hour> 
\end_layout

\begin_layout Plain Layout

		.................
\end_layout

\begin_layout Plain Layout

		<!-- 21:00 -->
\end_layout

\begin_layout Plain Layout

		<hour>10000</hour> 
\end_layout

\begin_layout Plain Layout

		<!-- 22:00 -->
\end_layout

\begin_layout Plain Layout

		<hour>12000</hour> 
\end_layout

\begin_layout Plain Layout

		<!-- 23:00 -->
\end_layout

\begin_layout Plain Layout

		<hour>14000</hour> 
\end_layout

\begin_layout Plain Layout

	</hours>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<hours hoursID="2"> 
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		<hourinterval> 
\end_layout

\begin_layout Plain Layout

			<from>09:00</from>
\end_layout

\begin_layout Plain Layout

			<to>12:00</to>			
\end_layout

\begin_layout Plain Layout

			<threshold>erpserver-orders-ediorders[0]*0.8</threshold> 
\end_layout

\begin_layout Plain Layout

		</hourinterval> 
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		<hourinterval> 
\end_layout

\begin_layout Plain Layout

			<from>12:00</from>
\end_layout

\begin_layout Plain Layout

			<to>15:00</to>			
\end_layout

\begin_layout Plain Layout

			<threshold>erpserver-orders-ediorders[0]*0.4</threshold>
\end_layout

\begin_layout Plain Layout

		</hourinterval> 
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		<hourinterval> 
\end_layout

\begin_layout Plain Layout

			<from>16:00</from>
\end_layout

\begin_layout Plain Layout

			<to>17:00</to>			
\end_layout

\begin_layout Plain Layout

			<threshold>erpserver-orders-ediorders[0]*0.2</threshold>
\end_layout

\begin_layout Plain Layout

		</hourinterval> 
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		<hourinterval> 
\end_layout

\begin_layout Plain Layout

			<from>20:00</from>
\end_layout

\begin_layout Plain Layout

			<to>22:00</to>			
\end_layout

\begin_layout Plain Layout

			<threshold>10000</threshold>
\end_layout

\begin_layout Plain Layout

		</hourinterval> 
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	</hours> 
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<!-- Holidays -->
\end_layout

\begin_layout Plain Layout

	<holiday year="2011">
\end_layout

\begin_layout Plain Layout

		<dayofyear>0101</dayofyear>
\end_layout

\begin_layout Plain Layout

		.................
\end_layout

\begin_layout Plain Layout

		<dayofyear>1224</dayofyear>
\end_layout

\begin_layout Plain Layout

		<dayofyear>1225</dayofyear>
\end_layout

\begin_layout Plain Layout

	</holiday> 
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

</twenty4threshold> 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The configuration is based on two main parts, a service definition called
 
\emph on
servicedef
\emph default
 tag and an 
\emph on
hours
\emph default
 tag.
 For each combination of host, service and serviceitem
\change_inserted 717047130 1394137560
,
\change_unchanged
 a 
\emph on
servicedef
\emph default
 tag is specified.
 Each 
\emph on
servicedef
\emph default
 can have one to many period specifications, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Period-definition"

\end_inset


\emph default
\bar default
.
 The period specif
\change_deleted 717047130 1394137593
y
\change_inserted 717047130 1394137594
ies
\change_unchanged
 
\change_deleted 717047130 1394137599
what
\change_inserted 717047130 1394137600
the
\change_unchanged
 hoursID that should be used for a specific combination of months and weeks
 definitions, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Hours-definition"

\end_inset


\emph default
\bar default
 for more information.
 The period also define
\change_inserted 717047130 1394137614
s
\change_unchanged
 calculation method, warning and critical level
\change_inserted 717047130 1394137620
s
\change_unchanged
, see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Calculation-definition"

\end_inset


\emph default
\bar default
.
\end_layout

\begin_layout Standard
The 
\emph on
hours
\emph default
 tag support
\change_inserted 717047130 1394137626
s
\change_unchanged
 two different formats, the 24 hour listing or a from-to listing.
 If the 
\emph on
hours
\emph default
 tag use
\change_inserted 717047130 1394137634
s
\change_unchanged
 the 24 hour listing
\change_inserted 717047130 1394137642
,
\change_unchanged
 there must be 24 
\emph on
hour
\emph default
 tags, each 
\change_inserted 717047130 1394137656
tag 
\change_unchanged
represent
\change_inserted 717047130 1394137647
ing
\change_unchanged
 on
\change_inserted 717047130 1394137648
e
\change_unchanged
 hour of the day.
 An hour tag can have a null value, meaning no threshold, a fixed value
 or a
\change_deleted 717047130 1394137664
n
\change_unchanged
 mathematical expression according to JEP
\change_deleted 717047130 1394137681
, but with
\change_inserted 717047130 1394137689
 and may use
\change_unchanged
 variables from any measured value existing in the service definition cache,
 see 
\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Service-item-cache"

\end_inset

.
 For more information about threshold specifications please see 
\emph on
\bar under

\begin_inset CommandInset ref
LatexCommand nameref
reference "label:Threshold-configuration"

\end_inset


\emph default
\bar default
.
 
\end_layout

\begin_layout Standard
If the from-to format is used
\change_inserted 717047130 1394137700
,
\change_unchanged
 there can be one to many 
\emph on
hourintervals
\emph default
 that define 
\change_deleted 717047130 1394137714
what
\change_inserted 717047130 1394137715
the
\change_unchanged
 threshold that should be used between the from
\change_deleted 717047130 1394137726
 
\change_inserted 717047130 1394137726
-
\change_unchanged
time to the to
\change_deleted 717047130 1394137731
 
\change_inserted 717047130 1394137731
-
\change_unchanged
time.
 Only full hours are currently supported.
 The following rules are valid for this format:
\end_layout

\begin_layout Itemize
If there are overlapping hours existing in the last hourinterval tag, the
 last defin
\change_deleted 717047130 1394137750
e
\change_inserted 717047130 1394137753
ition
\change_unchanged
 have precedence.
 In the above listing that means that the threshold for 12:00 are 
\begin_inset Quotes eld
\end_inset

erpserver-orders-ediorders[0]*0.4
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Itemize
Any hour that 
\change_deleted 717047130 1394137769
are
\change_inserted 717047130 1394137769
is
\change_unchanged
 not defined 
\change_deleted 717047130 1394137772
are
\change_inserted 717047130 1394137772
is
\change_unchanged
 treated as no threshold exist for the time period.
 In the above example
\change_inserted 717047130 1394137783
,
\change_unchanged
 there are no thresholds for 00:00-09:00, 17:00-20:00 and 22:00-00:00.
\end_layout

\begin_layout Standard
The final section, holidays, define days of the year where no threshold
 will be evaluated.
 A service will always return an OKAY state for these days.
\end_layout

\begin_layout Subsection
Templates
\end_layout

\begin_layout Standard
If there are many service definitions that will use the same threshold definitio
n
\change_inserted 717047130 1394137860
,
\change_unchanged
 they can be grouped in a servicedefgroup.
 The servicedefgroup can have multiple members, where each member define
\change_inserted 717047130 1394137871
s
\change_unchanged
 a service definition, and one period template that they all share.
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

.....
\end_layout

\begin_layout Plain Layout

	<servicedefgroup>
\end_layout

\begin_layout Plain Layout

		<member>
\end_layout

\begin_layout Plain Layout

			<hostname>erpserver1</hostname>
\end_layout

\begin_layout Plain Layout

			<servicename>shipments</servicename> 
\end_layout

\begin_layout Plain Layout

			<serviceitemname>outboundshipment</serviceitemname>  
\end_layout

\begin_layout Plain Layout

		</member>
\end_layout

\begin_layout Plain Layout

		<member>
\end_layout

\begin_layout Plain Layout

			<hostname>erpserver2</hostname>
\end_layout

\begin_layout Plain Layout

			<servicename>shipments</servicename> 
\end_layout

\begin_layout Plain Layout

			<serviceitemname>outboundshipment</serviceitemname>  
\end_layout

\begin_layout Plain Layout

		</member>
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		<template>outboundShipments</template>
\end_layout

\begin_layout Plain Layout

	</servicedefgroup>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<servicedeftemplate templatename="outboundShipments">
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

		<period>
\end_layout

\begin_layout Plain Layout

			<!-- valid if its a Friday --> 
\end_layout

\begin_layout Plain Layout

			<weeks> 
\end_layout

\begin_layout Plain Layout

				<dayofweek>6</dayofweek>
\end_layout

\begin_layout Plain Layout

			</weeks> 
\end_layout

\begin_layout Plain Layout

			<calcmethod>&gt;</calcmethod> 
\end_layout

\begin_layout Plain Layout

			<warning>10</warning> 
\end_layout

\begin_layout Plain Layout

			<critical>30</critical> 
\end_layout

\begin_layout Plain Layout

			<hoursIDREF>2</hoursIDREF> 
\end_layout

\begin_layout Plain Layout

		</period>
\end_layout

\begin_layout Plain Layout

		
\end_layout

\begin_layout Plain Layout

		<period>
\end_layout

\begin_layout Plain Layout

			<!-- This will be used if no 
\end_layout

\begin_layout Plain Layout

				other rule if applicable -->
\end_layout

\begin_layout Plain Layout

			<calcmethod>&gt;</calcmethod>
\end_layout

\begin_layout Plain Layout

			<warning>10</warning> 
\end_layout

\begin_layout Plain Layout

			<critical>30</critical> 
\end_layout

\begin_layout Plain Layout

			<hoursIDREF>31</hoursIDREF> 
\end_layout

\begin_layout Plain Layout

		</period>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	</servicedeftemplate> 
\end_layout

\begin_layout Plain Layout

  
\end_layout

\begin_layout Plain Layout

....
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
In the above example
\change_inserted 717047130 1394137881
,
\change_unchanged
 both 
\emph on
erpserver1-shipments-outboundshipment
\emph default
 and 
\emph on
erpserver1- shipments-outboundshipment
\emph default
 share the same threshold template named 
\emph on

\begin_inset Quotes eld
\end_inset

outboundShipments
\begin_inset Quotes erd
\end_inset


\emph default
.
 The servicedefgroup and servicedeftemplate must be located before any individua
l servicedef definitions.
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "label:server.xml-1"

\end_inset

server.xml 
\end_layout

\begin_layout Standard
The configuration file define
\change_inserted 717047130 1394137897
s
\change_unchanged
 the servers that Bischeck should be integrated with.
 The server.xml has 
\change_deleted 717047130 1394137905
a
\change_inserted 717047130 1394137908
the following
\change_unchanged
 structure
\change_deleted 717047130 1394137912
 of
\change_unchanged
: 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

<servers>
\end_layout

\begin_layout Plain Layout

	<server name="Nagios1">     
\end_layout

\begin_layout Plain Layout

		<class>NSCAServer</class>
\end_layout

\begin_layout Plain Layout

		<property>
\end_layout

\begin_layout Plain Layout

			<key>hostAddress</key>
\end_layout

\begin_layout Plain Layout

			<value>localhost</value>
\end_layout

\begin_layout Plain Layout

		</property>
\end_layout

\begin_layout Plain Layout

		<property>       
\end_layout

\begin_layout Plain Layout

			<key>encryptionMode</key>
\end_layout

\begin_layout Plain Layout

			<value>XOR</value>     
\end_layout

\begin_layout Plain Layout

		</property>
\end_layout

\begin_layout Plain Layout

		<property>
\end_layout

\begin_layout Plain Layout

			<key>password</key>       
\end_layout

\begin_layout Plain Layout

			<value>change this</value>     
\end_layout

\begin_layout Plain Layout

		</property>
\end_layout

\begin_layout Plain Layout

		<property>       
\end_layout

\begin_layout Plain Layout

			<key>port</key>       
\end_layout

\begin_layout Plain Layout

			<value>5667</value>     
\end_layout

\begin_layout Plain Layout

		</property>
\end_layout

\begin_layout Plain Layout

		<property>       
\end_layout

\begin_layout Plain Layout

			<key>connectionTimeout</key>       
\end_layout

\begin_layout Plain Layout

			<value>5000</value>     
\end_layout

\begin_layout Plain Layout

		</property> 
\end_layout

\begin_layout Plain Layout

	</server>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

	<server name="Nagios2">     
\end_layout

\begin_layout Plain Layout

		<class>NSCAServer</class>
\end_layout

\begin_layout Plain Layout

        ......
\end_layout

\begin_layout Plain Layout

	</server>
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

</servers>
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Each server that is integrated with Bischeck must be defined with the server
 tag and with a unique attribute name.
 This solution enable
\change_inserted 717047130 1394137926
s
\change_unchanged
 Bischeck to send data to multiple servers of the same type, 
\change_deleted 717047130 1394137932
like
\change_inserted 717047130 1394137933
such as
\change_unchanged
 multiple NSCA servers.
 The class tag define
\change_inserted 717047130 1394137938
s
\change_unchanged
 
\change_deleted 717047130 1394137941
what
\change_inserted 717047130 1394137941
the
\change_unchanged
 Server class implementation to use for the integration.
 Each Server implementation can have 
\change_inserted 717047130 1394137955
a 
\change_unchanged
different number
\change_deleted 717047130 1394137957
s
\change_unchanged
 of properties that is specific for the Server class.
 Custom developed server classes should be placed in the 
\emph on
customlib
\emph default
 directory.
\end_layout

\begin_layout Subsection
Circuit breaks
\end_layout

\begin_layout Standard
Circuit breaks 
\change_deleted 717047130 1394137973
are
\change_inserted 717047130 1394137973
is
\change_unchanged
 a technique to detect if the remote server is down or 
\change_deleted 717047130 1394137982
can not
\change_inserted 717047130 1394137983
unable to
\change_unchanged
 accept connections.
 If the remote server is not responding correctly after a number of configured
 attempts
\change_inserted 717047130 1394137994
,
\change_unchanged
 the circuit break will 
\begin_inset Quotes eld
\end_inset

OPEN
\begin_inset Quotes erd
\end_inset

 and Bischeck will stop sending data during a timeout period before retrying.
 The implementation is inspired by Michael Nygard's circuit break pattern
 in the excellent book "Release It!".
\end_layout

\begin_layout Standard
Server classes that support the circuit break have 3 additional properties:
\end_layout

\begin_layout Itemize
cbEnable - enable circuit break, default is false.
\end_layout

\begin_layout Itemize
cbAttempts - the number of connection attempts before the circuit break
 is set in a
\change_inserted 717047130 1394138025
n
\change_unchanged
 OPEN state, default 5.
\end_layout

\begin_layout Itemize
cbTimeout - the time in milliseconds that the circuit break will stay in
 the OPEN state before going to HALF-OPEN and retry 
\change_inserted 717047130 1394138039
the 
\change_unchanged
connection, default is 60000.
\end_layout

\begin_layout Standard
Currently
\change_inserted 717047130 1394138044
,
\change_unchanged
 the following server classes support circuit breaks:
\end_layout

\begin_layout Itemize
NSCA
\end_layout

\begin_layout Itemize
NRDP
\end_layout

\begin_layout Standard
The state of a circuit break can be instrumented through JMX.
\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:Service-scheduling"

\end_inset

Service scheduling 
\end_layout

\begin_layout Standard
The service scheduling define
\change_inserted 717047130 1394138056
s
\change_unchanged
 when a service is triggered to be executed.
 For each service there can be multiple scheduling configurations, but at
 le
\change_inserted 717047130 1394138063
a
\change_unchanged
st one is mandatory.
 The scheduling can be configured in three ways.
 
\end_layout

\begin_layout Section
Interval scheduling
\end_layout

\begin_layout Standard
The format describe
\change_inserted 717047130 1394138072
s
\change_unchanged
 an interval 
\change_deleted 717047130 1394138078
that are 
\change_unchanged
repeated forever.
 The format is just a number and a
\change_inserted 717047130 1394138083
n
\change_unchanged
 indicator defining the granularity in seconds (S), minutes (M) or hours
 (H).
 10M specify that the service should be executed every ten minutes.
 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

<schedule>10M</schedule>		
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The initial start time for an interval based schedule is calculated as a
 time randomly in the specified interval.
 For 10M this means that the service
\change_inserted 717047130 1394138115
'
\change_unchanged
 first schedule is between 0 to 10 minutes from the start time of Bischeck
 or at a reload.
\end_layout

\begin_layout Section
Cron based scheduling
\end_layout

\begin_layout Standard
The second format is more advanced and follow
\change_inserted 717047130 1394138133
s
\change_unchanged
 the cron specification of Quartz, see 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

http://www.quartz-scheduler.org
\end_layout

\end_inset

.
 
\change_deleted 717047130 1394138145
With
\change_inserted 717047130 1394138146
Using
\change_unchanged
 this format
\change_inserted 717047130 1394138149
,
\change_unchanged
 it
\change_inserted 717047130 1394138139
 i
\change_unchanged
s possible to define scheduling expression
\change_inserted 717047130 1394138154
s
\change_unchanged
 like 
\emph on

\begin_inset Quotes eld
\end_inset

0 15 10 ? * MON-FRI
\begin_inset Quotes erd
\end_inset


\emph default
 which would schedule the service at 10:15am every Monday to Friday.
 For more cron examples
\change_inserted 717047130 1394138166
,
\change_unchanged
 please visit 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

http://www.quartz-scheduler.org/documentation/quartz-2.1.x/tutorials/crontrigger
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

<schedule>0 15 10 ? * MON-FRI</schedule>		
\end_layout

\end_inset


\end_layout

\begin_layout Section
Service relation scheduling
\end_layout

\begin_layout Standard
The service relation scheduling trigger
\change_inserted 717047130 1394138180
s
\change_unchanged
 a service to execute after another service has been scheduled.
 This is useful when a service is depending on data from another service
 for its thresholds or execution statement.
 The format is 
\emph on

\begin_inset Quotes eld
\end_inset

host-service
\begin_inset Quotes erd
\end_inset

 
\emph default
specifying the host and service that will trigger the execution of the service.
 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=XML,numbers=right,tabsize=2"
inline false
status open

\begin_layout Plain Layout

<schedule>erpserver-orders</schedule>		
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:Configuration-tools"

\end_inset

Configuration tools 
\end_layout

\begin_layout Standard
Bischeck provides by default no additional tools for configuration other
 than the normal editor to manage the xml configuration files.
\end_layout

\begin_layout Standard
A web based configuration tool, Bisconf, is under development.
 Bisconf is hosted on the Bischeck project site, 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.bischeck.org
\end_layout

\end_inset

.
 Check release notes to see what version of Bischeck that is supported by
 Bisconf.
\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:bischeck-license"

\end_inset

Bischeck license 
\end_layout

\begin_layout Standard
Bischeck is licensed under GNU license version 2.
 For more info please visit 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.gnu.org/licenses/gpl-2.0.htm
\end_layout

\end_inset

l
\end_layout

\begin_layout Chapter
Bug reports and feature requests
\end_layout

\begin_layout Standard
Please submit bug reports and feature requests on 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

www.bischeck.org
\end_layout

\end_inset

 in the Forge section.
\end_layout

\begin_layout Chapter
\begin_inset CommandInset label
LatexCommand label
name "label:Credits"

\end_inset

Credits
\end_layout

\begin_layout Standard
Thanks to all people who has developed all the great software that Bischeck
 depends on
\change_deleted 717047130 1394138242
,
\change_unchanged
 and especially all who made Nagios and the Nagios community a success.
 A special thanks goes to Peter Johansson and his colleagues at DHL Freight
 Sweden for sponsoring the development and providing ideas and important
 feedback.
 
\end_layout

\begin_layout Standard

\change_inserted -2048955058 1394220100
The Bischeck project 
\change_deleted -2048955058 1394220094
I 
\change_inserted 717047130 1394138260
would 
\change_deleted 717047130 1394138261
A
\change_inserted 717047130 1394138261
a
\change_unchanged
lso like to thank the following companies that sponsor the Bischeck project
 with valuable commercial tools and development environments: 
\end_layout

\begin_layout Itemize
Contemplate support
\change_inserted 717047130 1394138273
s
\change_unchanged
 the Bischeck projects with the ThreadSafe tool for advanced static analysis
 for Java concurrency, 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.contemplateltd.com/threadsafe
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
YourKit is kindly supporting Bischeck open source projects with its full-feature
d Java Profiler, 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.yourkit.com/java/profiler
\end_layout

\end_inset

 
\end_layout

\begin_layout Itemize
Cloudbees provide 
\change_deleted 717047130 1394143553
continues
\change_inserted 717047130 1394143553
continuous
\change_unchanged
 integration service
\change_inserted 717047130 1394138297
s
\change_unchanged
 through Jenkins, 
\begin_inset Flex URL
status open

\begin_layout Plain Layout

http://www.cloudbees.com/
\end_layout

\end_inset


\end_layout

\end_body
\end_document
